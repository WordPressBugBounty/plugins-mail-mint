"use strict";(self.webpackChunk_mmAdmin_webpackJsonp=self.webpackChunk_mmAdmin_webpackJsonp||[]).push([[8666],{4742:(a,t,n)=>{n.r(t),n.d(t,{default:()=>x});var e=n(9012),i=n(7767),l=n(2017),o=n(1609),r=n(3676),s=n(996),d=n(2930),m=n(5125),c=n(7723),u=n(181),v=n(7143),_=n(1671),h=n(8548),p=n(9214),g=n(4848);function j(a,t){return function(a){if(Array.isArray(a))return a}(a)||function(a,t){var n=null==a?null:"undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"];if(null!=n){var e,i,l,o,r=[],s=!0,d=!1;try{if(l=(n=n.call(a)).next,0===t){if(Object(n)!==n)return;s=!1}else for(;!(s=(e=l.call(n)).done)&&(r.push(e.value),r.length!==t);s=!0);}catch(a){d=!0,i=a}finally{try{if(!s&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(d)throw i}}return r}}(a,t)||function(a,t){if(a){if("string"==typeof a)return b(a,t);var n={}.toString.call(a).slice(8,-1);return"Object"===n&&a.constructor&&(n=a.constructor.name),"Map"===n||"Set"===n?Array.from(a):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?b(a,t):void 0}}(a,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(a,t){(null==t||t>a.length)&&(t=a.length);for(var n=0,e=Array(t);n<t;n++)e[n]=a[n];return e}function f(){var a,t,n,b,f,x,w,N,M,A,y,S;(0,d.A)("mrm-admin","abandoned-cart"),(0,m.A)((0,c.__)("View Automation - Mail Mint","mrm"));var R=(0,i.Zp)(),V=j((0,o.useState)(!1),2),k=V[0],C=V[1],D=j((0,o.useState)(1),2),P=D[0],F=D[1],O=j((0,o.useState)(10),2),I=O[0],L=O[1],E=j((0,o.useState)(1),2),H=(E[0],E[1],j((0,o.useState)(1),2)),J=(H[0],H[1],(0,i.g)().id),z=(0,v.useDispatch)(_.H).setAbandonedAutomationData;(0,o.useEffect)((function(){var a=!0;return window.MRM_Vars.is_mailmint_pro_license_active&&(C(!0),(0,u.SL)(J,P,I).then((function(t){a&&(t.code,z(t.data),C(!1))}))),function(){a=!1}}),[P,I]);var B=(0,v.useSelect)((function(a){return{automationData:a(_.H).getAbandonedAutomationData()}}),[]).automationData;return(0,g.jsxs)("div",{className:"mintmrm-view-automation-page mintmrm-page",children:[(0,g.jsx)("div",{className:"view-automation-header",children:(0,g.jsxs)("div",{className:"mintmrm-container",children:[(0,g.jsxs)("div",{className:"left-section",children:[(0,g.jsx)("div",{className:"back-button",children:(0,g.jsxs)("button",{onClick:function(){return R(-1)},children:[(0,g.jsx)(e.A,{}),null===(a=window)||void 0===a||null===(a=a.MRM_Vars)||void 0===a||null===(a=a.mint_trans)||void 0===a?void 0:a.Back]})}),(0,g.jsx)("h2",{className:"page-title",children:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.Automation})]}),(0,g.jsx)("div",{className:"right-section"})]})}),(0,g.jsx)("div",{className:"mintmrm-container",children:(0,g.jsxs)("div",{className:"view-automation-table-wrapper mintmrm-page__data-table",children:[(0,g.jsx)("div",{className:"mintmrm-page__data-table--head",children:(0,g.jsxs)("div",{className:"mintmrm-page__data-table--row",children:[(0,g.jsx)("div",{className:"mintmrm-page__data-table--col contact",children:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.Contact}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col automation",children:null===(b=window)||void 0===b||null===(b=b.MRM_Vars)||void 0===b||null===(b=b.mint_trans)||void 0===b?void 0:b.Action}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col started-on",children:null===(f=window)||void 0===f||null===(f=f.MRM_Vars)||void 0===f||null===(f=f.mint_trans)||void 0===f?void 0:f.StartedOn}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col last-run",children:null===(x=window)||void 0===x||null===(x=x.MRM_Vars)||void 0===x||null===(x=x.mint_trans)||void 0===x?void 0:x.LastRun}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col status",children:null===(w=window)||void 0===w||null===(w=w.MRM_Vars)||void 0===w||null===(w=w.mint_trans)||void 0===w?void 0:w.Status}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col eye-icon"})]})}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--body",children:k?(0,g.jsx)(l.A,{type:"table"}):(0,g.jsx)(g.Fragment,{children:(null==B||null===(N=B.data)||void 0===N?void 0:N.length)>0?null==B||null===(M=B.data)||void 0===M?void 0:M.map((function(a,t){return(0,g.jsx)(o.Fragment,{children:(0,g.jsxs)("div",{className:"mintmrm-page__data-table--row",children:[(0,g.jsx)("div",{className:"mintmrm-page__data-table--col contact",title:a.email,children:(0,g.jsx)("a",{children:a.email})}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col automation",title:a.step_name,children:a.step_name}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col started-on",title:a.started_on,children:a.started_on}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col last-run",title:a.last_run,children:a.last_run}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col status",children:(0,g.jsx)("span",{className:"type ".concat("hold"==a.status?"failed":"pending"==a.status?"pending":"completed"),children:a.status})}),(0,g.jsx)("div",{className:"mintmrm-page__data-table--col eye-icon",children:(0,g.jsx)("a",{href:"".concat(window.MRM_Vars.admin_url,"admin.php?page=mint-mail-automation-editor#/id=").concat(null==a?void 0:a.automation_id),children:(0,g.jsx)(s.A,{})})})]})},a.id)})):(0,g.jsxs)("div",{className:"no-data-found",children:[(0,g.jsx)(h.A,{}),(0,g.jsx)("h4",{children:null===(A=window)||void 0===A||null===(A=A.MRM_Vars)||void 0===A||null===(A=A.mint_trans)||void 0===A?void 0:A.NoAutomationsFound})]})})}),(null==B||null===(y=B.data)||void 0===y?void 0:y.length)>0&&(0,g.jsx)("div",{className:"mintmrm-page__data-table--footer",children:(0,g.jsx)(r.A,{currentPage:P,pageSize:I,onPageChange:F,setPerPage:L,totalCount:null==B?void 0:B.total,totalPages:Math.ceil((null==B?void 0:B.total)/I),paginationFor:null===(S=window)||void 0===S||null===(S=S.MRM_Vars)||void 0===S||null===(S=S.mint_trans)||void 0===S?void 0:S.Automation})})]})}),(0,g.jsx)(p.A,{docLink:"https://getwpfunnels.com/docs/mail-mint/abandoned-cart-recovery-in-mail-mint/automation-triggers-for-woocommerce-abandoned-cart-recovery/"})]})}const x=(0,o.memo)(f)}}]);
//# sourceMappingURL=abandoned-cart-view-automation.min.js.map?ver=1744182384114001