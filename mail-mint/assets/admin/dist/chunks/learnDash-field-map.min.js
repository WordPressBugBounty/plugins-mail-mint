/*! For license information please see learnDash-field-map.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[1857],{10:(t,e,n)=>{n.r(e),n.d(e,{default:()=>T});var r=n(7723),o=n(1609),i=n(7767),a=n(4976),s=n(4020),u=n(4101),c=n(5919),l=n(2017),f=n(2092),d=n(1931),m=n(9711),p=n(4848);function h(t){return h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h(t)}function v(){var t=g(),e=t.m(v),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,y(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(v=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new _(t,e)},AsyncIterator:j,async:function(t,e,n,o,a){return(r(e)?w:x)(i(t),e,n,o,a)},keys:b,values:y}})()}function y(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(h(t)+" is not iterable")}function b(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function x(t,e,n,r,o){var i=w(t,e,n,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function w(t,e,n,r,o){return new j(g().w(t,e,n,r),o||Promise)}function j(t,e){function n(r,o,i,a){try{var s=t[r](o),u=s.value;return u instanceof _?e.resolve(u.v).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(u).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(S(j.prototype),S(j.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),S(this,"_invoke",(function(t,o,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function g(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof s?r:s,c=Object.create(u.prototype);return S(c,"_invoke",function(n,r,o){var i,s,u,c=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return i=e,s=0,u=t,d.n=n,a}};function m(n,r){for(s=n,u=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],m=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=m&&((o=n<2&&m<i[1])?(s=0,d.v=r,d.n=i[1]):m<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),s=l,u=p;(e=s<2?t:u)||!f;){i||(s?s<3?(s>1&&(d.n=-1),m(s,u)):d.n=u:d.v=u);try{if(c=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(S(e={},r,(function(){return this})),e),f=c.prototype=s.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,S(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,S(f,"constructor",c),S(c,"constructor",u),u.displayName="GeneratorFunction",S(c,o,"GeneratorFunction"),S(f),S(f,o,"Generator"),S(f,r,(function(){return this})),S(f,"toString",(function(){return"[object Generator]"})),(g=function(){return{w:i,m:d}})()}function S(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}S=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){S(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}},S(t,e,n,r)}function _(t,e){this.v=t,this.k=e}function N(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function k(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return O(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?O(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function T(){var t=(0,i.zy)(),e=(0,i.Zp)(),n=k((0,o.useState)(!1),2),h=n[0],y=n[1],b=k((0,o.useState)(!1),2),x=b[0],w=b[1],j=k((0,o.useState)(window.MRM_Vars.mint_trans.Importing),2),g=j[0],S=j[1],_=k((0,o.useState)(0),2),O=_[0],T=_[1],A=k((0,o.useState)([]),2),M=(A[0],A[1]),I=k((0,o.useState)([]),2),C=(I[0],I[1]),R=k((0,o.useState)([]),2),P=R[0],F=R[1],E=k((0,o.useState)(!0),2),G=E[0],L=E[1],V=k((0,o.useState)([]),2),D=V[0],U=V[1],B=k((0,o.useState)(!1),2),J=B[0],z=B[1],H=k((0,o.useState)(!1),2),Q=H[0],W=H[1],Y=k((0,o.useState)(!1),2),Z=Y[0],$=Y[1],q=k((0,o.useState)([]),2),K=q[0],X=q[1],tt=k((0,o.useState)([]),2),et=tt[0],nt=tt[1],rt=k((0,o.useState)("pending"),2),ot=rt[0],it=rt[1],at=k((0,o.useState)(!0),2),st=at[0],ut=at[1],ct=(0,o.useRef)(null),lt=(0,o.useRef)(null),ft=(0,o.useRef)(null),dt=k((0,o.useState)(null),2),mt=dt[0],pt=dt[1],ht=k((0,o.useState)(!1),2),vt=ht[0],yt=ht[1],bt=k((0,o.useState)(!1),2),xt=bt[0],wt=bt[1],jt=k((0,o.useState)(!0),2),gt=jt[0],St=jt[1];(0,c.c7)(ct,z),(0,c.c7)(lt,W),(0,c.c7)(ft,$);var _t=t.state,Nt=t.pathname.replace("/map","");if(!_t)return(0,p.jsx)(i.C5,{to:Nt});(0,o.useEffect)((function(){var e;if((0,d.Mr)().then((function(t){M(t.data)})),(0,m.Q2)().then((function(t){C(t.data)})),"learndash"===(null===(e=t.state)||void 0===e?void 0:e.type)){var n,r,o,i;F(null===(n=t.state)||void 0===n||null===(n=n.data)||void 0===n?void 0:n.contacts),L(null===(r=t.state)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.isImportByCourse),U(null===(o=t.state)||void 0===o||null===(o=o.data)||void 0===o?void 0:o.selectedCourses),pt(null===(i=t.state)||void 0===i||null===(i=i.data)||void 0===i?void 0:i.total_batch);var a=setTimeout((function(){ut(!1)}),500);return function(){return clearTimeout(a)}}}),[]);var kt=function(){var t,n=(t=v().mark((function t(){var n,r,o,i,a,s,u,c,l;return v().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:y(!0),w(!0),(r={}).isImportByCourse=G,r.selectedCourses=D,r.status=ot,r.lists=K,r.tags=et,r.created_by="".concat(window.MRM_Vars.current_userID),r.optin_confirmation=vt,r.skip_existing=xt,r.automation_control=gt,r.offset=0,o=0,i=0,a=0,s=0,c=0;case 15:if(!(c<mt)){t.next=31;break}return t.next=19,(0,f.fT)(r,"mrm/v1/contacts/import/learndash");case 19:if(u=t.sent,"failed"!==(null===(l=u)||void 0===l?void 0:l.status)){t.next=22;break}return t.abrupt("break",31);case 22:T((c+1)/mt*100),r.offset=u.data.offset,o+=u.data.total,i+=u.data.imported,a+=u.data.skipped,s+=u.data.existing_contacts;case 28:c++,t.next=15;break;case 31:if("success"!==(null===(n=u)||void 0===n?void 0:n.status)){t.next=36;break}return S("Imported"),t.next=35,new Promise((function(t){return setTimeout(t,1e3)}));case 35:e("/contacts/import/confirmation",{state:{total:o,imported:i,skipped:a,existing_contacts:s,source:"wp"}});case 36:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){N(i,r,o,a,s,"next",t)}function s(t){N(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();return(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(s.A,{showNotification:!1,setShowNotification:function(){},notificationType:null,setNotificationType:function(){},message:null,showVideo:!0,docLink:"https://getwpfunnels.com/docs/mail-mint-contacts/",videoLink:"https://www.youtube.com/embed/lWSavlC4dFc",children:(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{children:window.MRM_Vars.mint_trans.importLearnDashHeading}),(0,p.jsx)("span",{className:"csv-title",children:window.MRM_Vars.mint_trans.importLearnDashDescription}),st?(0,p.jsx)(l.A,{type:"table"}):(0,p.jsxs)(p.Fragment,{children:[(0,p.jsxs)("form",{className:"select-field-form",action:"",children:[(0,p.jsx)("div",{className:"select-field-table",children:(0,p.jsxs)("table",{children:[(0,p.jsx)("thead",{children:(0,p.jsxs)("tr",{children:[(0,p.jsx)("th",{children:(0,r.__)("ID","mrm")}),(0,p.jsx)("th",{children:(0,r.__)("Name","mrm")}),(0,p.jsx)("th",{children:(0,r.__)("Username","mrm")}),(0,p.jsx)("th",{children:(0,r.__)("Email","mrm")})]})}),(0,p.jsxs)("tbody",{children:[null==P?void 0:P.map((function(t,e){return e>=5?null:(0,p.jsxs)("tr",{children:[(0,p.jsx)("td",{className:"user-id",children:t.id}),(0,p.jsxs)("td",{className:"user-name",children:[t.first_name," ",t.last_name]}),(0,p.jsx)("td",{className:"user-login",children:t.user_login}),(0,p.jsx)("td",{className:"user-email",children:t.user_email})]},t.id)})),0==P.length&&(0,p.jsx)("tr",{children:(0,p.jsx)("td",{className:"no-data-found",colSpan:4,children:window.MRM_Vars.mint_trans.NoUserFound})})]})]})}),(0,p.jsx)("hr",{}),(0,p.jsx)(u.A,{isActiveStatus:J,setIsActiveStatus:z,selectedStatus:ot,setSelectedStatus:it,isActiveTag:Z,setIsActiveTag:$,isActiveList:Q,setIsActiveList:W,selectedLists:K,setSelectedLists:X,selectedTags:et,setSelectedTags:nt,automationControl:gt,setAutomationControl:St,updateOptin:vt,setUpdateOptin:yt,skipExisting:xt,setSkipExisting:wt,statusMenuRef:ct,listMenuRef:lt,tagMenuRef:ft})]}),(0,p.jsxs)("div",{className:"import-button ".concat(x?"loader-section":""),children:[(0,p.jsxs)("div",{className:"progress-bar-wrapper",children:[(0,p.jsx)("span",{className:"progress-bar-title",children:g}),(0,p.jsx)("div",{className:"progress-bar",children:(0,p.jsx)("div",{className:"progress-percentage",style:{width:O.toPrecision(3)+"%"}})}),(0,p.jsxs)("span",{className:"percentage-rate",children:[O.toPrecision(3)," %"]})]}),(0,p.jsxs)("div",{className:"import-button-wrapper",children:[(0,p.jsx)(a.N_,{to:Nt,children:(0,p.jsx)("button",{className:"mintmrm-btn outline cancel-btn",children:window.MRM_Vars.mint_trans.Cancel})}),0!=P.length&&(0,p.jsxs)("button",{className:"import-confirm-button mintmrm-btn",onClick:function(){return kt()},disabled:!!h,children:[window.MRM_Vars.mint_trans.Import,h&&(0,p.jsx)("span",{className:"mintmrm-loader",style:{display:"block"}})]})]})]})]})]})})})}}}]);
//# sourceMappingURL=learnDash-field-map.min.js.map?ver=1752136635031000