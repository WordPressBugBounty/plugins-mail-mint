/*! For license information please see edit-segment.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[8951],{6524:(t,n,e)=>{e.d(n,{A:()=>l});var i=e(1609),r=e(4848);function o(){return(0,r.jsxs)("svg",{width:"42",height:"42",fill:"none",viewBox:"0 0 42 42",xmlns:"http://www.w3.org/2000/svg",children:[(0,r.jsx)("path",{fill:"#E0DFF1",d:"M21 22.313c5.799 0 10.5-4.701 10.5-10.5 0-5.8-4.701-10.5-10.5-10.5s-10.5 4.7-10.5 10.5c0 5.798 4.701 10.5 10.5 10.5zM6.563 40.688h16.222a11.773 11.773 0 01-2.402-15.764 13.187 13.187 0 01-8.925-4.108 14.454 14.454 0 00-8.833 13.31v2.624a3.95 3.95 0 003.938 3.938z"}),(0,r.jsx)("path",{fill:"#6F6AF8",d:"M21 31.5a9.187 9.187 0 109.188-9.188A9.198 9.198 0 0021 31.5zm10.5-2.625v1.313h1.313a1.313 1.313 0 010 2.625H31.5v1.312a1.313 1.313 0 01-2.625 0v-1.313h-1.313a1.313 1.313 0 010-2.624h1.313v-1.313a1.313 1.313 0 012.625 0z"})]})}const l=(0,i.memo)(o)},7768:(t,n,e)=>{e.r(n),e.d(n,{default:()=>P});var i=e(1455),r=e.n(i),o=(e(7723),e(1609)),l=e(7767),a=e(4976),s=e(9214),u=e(5934),c=e(2930),d=e(5125),v=e(9012),f=e(6931),h=e(6524),m=(e(4504),e(2017)),p=e(3676),w=e(9480),_=e(5747),g=e(7091),y=e(3552),b=e(3469),x=e(6352),M=e(9868),j=e(5270),S=e(4848);function N(t){return N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},N(t)}function R(t,n){var e=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);n&&(i=i.filter((function(n){return Object.getOwnPropertyDescriptor(t,n).enumerable}))),e.push.apply(e,i)}return e}function V(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{};n%2?R(Object(e),!0).forEach((function(n){E(t,n,e[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(e)):R(Object(e)).forEach((function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(e,n))}))}return t}function E(t,n,e){return(n=function(t){var n=function(t,n){if("object"!=N(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var i=e.call(t,"string");if("object"!=N(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==N(n)?n:n+""}(n))in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}function O(){O=function(){return n};var t,n={},e=Object.prototype,i=e.hasOwnProperty,r=Object.defineProperty||function(t,n,e){t[n]=e.value},o="function"==typeof Symbol?Symbol:{},l=o.iterator||"@@iterator",a=o.asyncIterator||"@@asyncIterator",s=o.toStringTag||"@@toStringTag";function u(t,n,e){return Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}),t[n]}try{u({},"")}catch(t){u=function(t,n,e){return t[n]=e}}function c(t,n,e,i){var o=n&&n.prototype instanceof w?n:w,l=Object.create(o.prototype),a=new A(i||[]);return r(l,"_invoke",{value:R(t,e,a)}),l}function d(t,n,e){try{return{type:"normal",arg:t.call(n,e)}}catch(t){return{type:"throw",arg:t}}}n.wrap=c;var v="suspendedStart",f="suspendedYield",h="executing",m="completed",p={};function w(){}function _(){}function g(){}var y={};u(y,l,(function(){return this}));var b=Object.getPrototypeOf,x=b&&b(b(C([])));x&&x!==e&&i.call(x,l)&&(y=x);var M=g.prototype=w.prototype=Object.create(y);function j(t){["next","throw","return"].forEach((function(n){u(t,n,(function(t){return this._invoke(n,t)}))}))}function S(t,n){function e(r,o,l,a){var s=d(t[r],t,o);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"==N(c)&&i.call(c,"__await")?n.resolve(c.__await).then((function(t){e("next",t,l,a)}),(function(t){e("throw",t,l,a)})):n.resolve(c).then((function(t){u.value=t,l(u)}),(function(t){return e("throw",t,l,a)}))}a(s.arg)}var o;r(this,"_invoke",{value:function(t,i){function r(){return new n((function(n,r){e(t,i,n,r)}))}return o=o?o.then(r,r):r()}})}function R(n,e,i){var r=v;return function(o,l){if(r===h)throw Error("Generator is already running");if(r===m){if("throw"===o)throw l;return{value:t,done:!0}}for(i.method=o,i.arg=l;;){var a=i.delegate;if(a){var s=V(a,i);if(s){if(s===p)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(r===v)throw r=m,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);r=h;var u=d(n,e,i);if("normal"===u.type){if(r=i.done?m:f,u.arg===p)continue;return{value:u.arg,done:i.done}}"throw"===u.type&&(r=m,i.method="throw",i.arg=u.arg)}}}function V(n,e){var i=e.method,r=n.iterator[i];if(r===t)return e.delegate=null,"throw"===i&&n.iterator.return&&(e.method="return",e.arg=t,V(n,e),"throw"===e.method)||"return"!==i&&(e.method="throw",e.arg=new TypeError("The iterator does not provide a '"+i+"' method")),p;var o=d(r,n.iterator,e.arg);if("throw"===o.type)return e.method="throw",e.arg=o.arg,e.delegate=null,p;var l=o.arg;return l?l.done?(e[n.resultName]=l.value,e.next=n.nextLoc,"return"!==e.method&&(e.method="next",e.arg=t),e.delegate=null,p):l:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,p)}function E(t){var n={tryLoc:t[0]};1 in t&&(n.catchLoc=t[1]),2 in t&&(n.finallyLoc=t[2],n.afterLoc=t[3]),this.tryEntries.push(n)}function k(t){var n=t.completion||{};n.type="normal",delete n.arg,t.completion=n}function A(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(E,this),this.reset(!0)}function C(n){if(n||""===n){var e=n[l];if(e)return e.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length)){var r=-1,o=function e(){for(;++r<n.length;)if(i.call(n,r))return e.value=n[r],e.done=!1,e;return e.value=t,e.done=!0,e};return o.next=o}}throw new TypeError(N(n)+" is not iterable")}return _.prototype=g,r(M,"constructor",{value:g,configurable:!0}),r(g,"constructor",{value:_,configurable:!0}),_.displayName=u(g,s,"GeneratorFunction"),n.isGeneratorFunction=function(t){var n="function"==typeof t&&t.constructor;return!!n&&(n===_||"GeneratorFunction"===(n.displayName||n.name))},n.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,g):(t.__proto__=g,u(t,s,"GeneratorFunction")),t.prototype=Object.create(M),t},n.awrap=function(t){return{__await:t}},j(S.prototype),u(S.prototype,a,(function(){return this})),n.AsyncIterator=S,n.async=function(t,e,i,r,o){void 0===o&&(o=Promise);var l=new S(c(t,e,i,r),o);return n.isGeneratorFunction(e)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},j(M),u(M,s,"Generator"),u(M,l,(function(){return this})),u(M,"toString",(function(){return"[object Generator]"})),n.keys=function(t){var n=Object(t),e=[];for(var i in n)e.push(i);return e.reverse(),function t(){for(;e.length;){var i=e.pop();if(i in n)return t.value=i,t.done=!1,t}return t.done=!0,t}},n.values=C,A.prototype={constructor:A,reset:function(n){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(k),!n)for(var e in this)"t"===e.charAt(0)&&i.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var e=this;function r(i,r){return a.type="throw",a.arg=n,e.next=i,r&&(e.method="next",e.arg=t),!!r}for(var o=this.tryEntries.length-1;o>=0;--o){var l=this.tryEntries[o],a=l.completion;if("root"===l.tryLoc)return r("end");if(l.tryLoc<=this.prev){var s=i.call(l,"catchLoc"),u=i.call(l,"finallyLoc");if(s&&u){if(this.prev<l.catchLoc)return r(l.catchLoc,!0);if(this.prev<l.finallyLoc)return r(l.finallyLoc)}else if(s){if(this.prev<l.catchLoc)return r(l.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<l.finallyLoc)return r(l.finallyLoc)}}}},abrupt:function(t,n){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc<=this.prev&&i.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=n&&n<=o.finallyLoc&&(o=null);var l=o?o.completion:{};return l.type=t,l.arg=n,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(l)},complete:function(t,n){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&n&&(this.next=n),p},finish:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),k(e),p}},catch:function(t){for(var n=this.tryEntries.length-1;n>=0;--n){var e=this.tryEntries[n];if(e.tryLoc===t){var i=e.completion;if("throw"===i.type){var r=i.arg;k(e)}return r}}throw Error("illegal catch attempt")},delegateYield:function(n,e,i){return this.delegate={iterator:C(n),resultName:e,nextLoc:i},"next"===this.method&&(this.arg=t),p}},n}function k(t,n,e,i,r,o,l){try{var a=t[o](l),s=a.value}catch(t){return void e(t)}a.done?n(s):Promise.resolve(s).then(i,r)}function A(t){return function(){var n=this,e=arguments;return new Promise((function(i,r){var o=t.apply(n,e);function l(t){k(o,i,r,l,a,"next",t)}function a(t){k(o,i,r,l,a,"throw",t)}l(void 0)}))}}function C(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=e){var i,r,o,l,a=[],s=!0,u=!1;try{if(o=(e=e.call(t)).next,0===n){if(Object(e)!==e)return;s=!1}else for(;!(s=(i=o.call(e)).done)&&(a.push(i.value),a.length!==n);s=!0);}catch(t){u=!0,r=t}finally{try{if(!s&&null!=e.return&&(l=e.return(),Object(l)!==l))return}finally{if(u)throw r}}return a}}(t,n)||function(t,n){if(t){if("string"==typeof t)return L(t,n);var e={}.toString.call(t).slice(8,-1);return"Object"===e&&t.constructor&&(e=t.constructor.name),"Map"===e||"Set"===e?Array.from(t):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?L(t,n):void 0}}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function L(t,n){(null==n||n>t.length)&&(n=t.length);for(var e=0,i=Array(n);e<n;e++)i[e]=t[e];return i}const P=function(){var t,n,e,i,N,R,E,k,L,P,T,F,I,D,q,G,W,z,B,U,Y,J,H,Z,$,K,Q,X,tt,nt,et,it,rt,ot,lt,at,st,ut,ct,dt,vt;(0,c.A)("mrm-admin","contacts"),(0,d.A)("Segments - Mail Mint");var ft=localStorage.getItem("malimint-contacts-per-page"),ht=(0,l.Zp)(),mt=(0,l.zy)(),pt=C((0,o.useState)(!1),2),wt=pt[0],_t=pt[1],gt=(0,l.g)(),yt=C((0,o.useState)(""),2),bt=yt[0],xt=yt[1],Mt=C((0,o.useState)(""),2),jt=Mt[0],St=Mt[1],Nt=C((0,o.useState)(""),2),Rt=Nt[0],Vt=Nt[1],Et=C((0,o.useState)({}),2),Ot=Et[0],kt=Et[1],At=C((0,o.useState)([]),2),Ct=At[0],Lt=At[1],Pt=C((0,o.useState)(!1),2),Tt=Pt[0],Ft=Pt[1],It=C((0,o.useState)([]),2),Dt=It[0],qt=It[1],Gt=C((0,o.useState)(!1),2),Wt=Gt[0],zt=Gt[1],Bt=[{label:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.Contains,value:"contains"},{label:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.DoesNotContain,value:"does_not_contain"},{label:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.StartsWith,value:"starts_with"},{label:null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.EndsWith,value:"ends_with"},{label:null===(N=window)||void 0===N||null===(N=N.MRM_Vars)||void 0===N||null===(N=N.mint_trans)||void 0===N?void 0:N.DoesNotStartWith,value:"does_not_start_with"},{label:null===(R=window)||void 0===R||null===(R=R.MRM_Vars)||void 0===R||null===(R=R.mint_trans)||void 0===R?void 0:R.DoesNotEndWith,value:"does_not_end_with"},{label:null===(E=window)||void 0===E||null===(E=E.MRM_Vars)||void 0===E||null===(E=E.mint_trans)||void 0===E?void 0:E.IsEqualTo,value:"are_exactly_in"},{label:null===(k=window)||void 0===k||null===(k=k.MRM_Vars)||void 0===k||null===(k=k.mint_trans)||void 0===k?void 0:k.IsNotEqualTo,value:"are_not_in"}],Ut=[{label:null===(L=window)||void 0===L||null===(L=L.MRM_Vars)||void 0===L||null===(L=L.mint_trans)||void 0===L?void 0:L.Before,value:"before"},{label:null===(P=window)||void 0===P||null===(P=P.MRM_Vars)||void 0===P||null===(P=P.mint_trans)||void 0===P?void 0:P.After,value:"after"},{label:null===(T=window)||void 0===T||null===(T=T.MRM_Vars)||void 0===T||null===(T=T.mint_trans)||void 0===T?void 0:T.InTheDate,value:"in_the_date"}],Yt=[{label:null===(F=window)||void 0===F||null===(F=F.MRM_Vars)||void 0===F||null===(F=F.mint_trans)||void 0===F?void 0:F.GreaterThan,value:"greater_than"},{label:null===(I=window)||void 0===I||null===(I=I.MRM_Vars)||void 0===I||null===(I=I.mint_trans)||void 0===I?void 0:I.LessThan,value:"less_than"},{label:null===(D=window)||void 0===D||null===(D=D.MRM_Vars)||void 0===D||null===(D=D.mint_trans)||void 0===D?void 0:D.Equal,value:"equal"},{label:null===(q=window)||void 0===q||null===(q=q.MRM_Vars)||void 0===q||null===(q=q.mint_trans)||void 0===q?void 0:q.DoesNotEqual,value:"does_not_equal"}],Jt=[{label:null===(G=window)||void 0===G||null===(G=G.MRM_Vars)||void 0===G||null===(G=G.mint_trans)||void 0===G?void 0:G.IncludedIn,value:"custom_field_includes_in"},{label:null===(W=window)||void 0===W||null===(W=W.MRM_Vars)||void 0===W||null===(W=W.mint_trans)||void 0===W?void 0:W.NotIncludedIn,value:"custom_field_does_not_include_in"}],Ht=[{label:null===(z=window)||void 0===z||null===(z=z.MRM_Vars)||void 0===z||null===(z=z.mint_trans)||void 0===z?void 0:z.Yes,value:"is_exist"},{label:null===(B=window)||void 0===B||null===(B=B.MRM_Vars)||void 0===B||null===(B=B.mint_trans)||void 0===B?void 0:B.No,value:"is_not_exist"}],Zt=C((0,o.useState)([{label:null===(U=window)||void 0===U||null===(U=U.MRM_Vars)||void 0===U||null===(U=U.mint_trans)||void 0===U?void 0:U.IsEqualTo,value:"email_subscription_status_is_equal"},{label:null===(Y=window)||void 0===Y||null===(Y=Y.MRM_Vars)||void 0===Y||null===(Y=Y.mint_trans)||void 0===Y?void 0:Y.DoesNotEqualTo,value:"email_subscription_status_is_not_equal"}]),2),$t=Zt[0],Kt=(Zt[1],C((0,o.useState)([{label:null===(J=window)||void 0===J||null===(J=J.MRM_Vars)||void 0===J||null===(J=J.mint_trans)||void 0===J?void 0:J.IncludedIn,value:"groups_includes_in"},{label:null===(H=window)||void 0===H||null===(H=H.MRM_Vars)||void 0===H||null===(H=H.mint_trans)||void 0===H?void 0:H.NotIncludedIn,value:"groups_does_not_include_in"}]),2)),Qt=Kt[0],Xt=(Kt[1],C((0,o.useState)([{label:null===(Z=window)||void 0===Z||null===(Z=Z.MRM_Vars)||void 0===Z||null===(Z=Z.mint_trans)||void 0===Z?void 0:Z.Pending,value:"pending"},{label:null===($=window)||void 0===$||null===($=$.MRM_Vars)||void 0===$||null===($=$.mint_trans)||void 0===$?void 0:$.Subscribed,value:"subscribed"},{label:null===(K=window)||void 0===K||null===(K=K.MRM_Vars)||void 0===K||null===(K=K.mint_trans)||void 0===K?void 0:K.Unsubscribed,value:"unsubscribed"}]),2)),tn=Xt[0],nn=(Xt[1],C((0,o.useState)([{field_type:"input-text",field:{label:null===(Q=window)||void 0===Q||null===(Q=Q.MRM_Vars)||void 0===Q||null===(Q=Q.mint_trans)||void 0===Q?void 0:Q.SelectFieldType,type:"",value:""},action_condition:{label:null===(X=window)||void 0===X||null===(X=X.MRM_Vars)||void 0===X||null===(X=X.mint_trans)||void 0===X?void 0:X.SelectCondition,type:"",value:""},action_values:{label:null===(tt=window)||void 0===tt||null===(tt=tt.MRM_Vars)||void 0===tt||null===(tt=tt.mint_trans)||void 0===tt?void 0:tt.SelectAction,type:"",value:[]},lists:{list:[],selected:[]},tags:{tag:[],selected:[]},condition_logic:"AND"}]),2)),en=nn[0],rn=nn[1],on=C((0,o.useState)(!1),2),ln=on[0],an=on[1],sn=C((0,o.useState)("success"),2),un=sn[0],cn=sn[1],dn=C((0,o.useState)(""),2),vn=dn[0],fn=dn[1],hn=C((0,o.useState)(!1),2),mn=hn[0],pn=hn[1],wn=C((0,o.useState)([]),2),_n=wn[0],gn=(wn[1],C((0,o.useState)([]),2)),yn=gn[0],bn=(gn[1],C((0,o.useState)(1),2)),xn=bn[0],Mn=bn[1],jn=C((0,o.useState)(null!==ft?ft:10),2),Sn=jn[0],Nn=jn[1],Rn=C((0,o.useState)(0),2),Vn=Rn[0],En=Rn[1],On=C((0,o.useState)(0),2),kn=On[0],An=On[1],Cn=C((0,o.useState)(!0),2),Ln=Cn[0],Pn=Cn[1],Tn=C((0,o.useState)(!1),2),Fn=Tn[0],In=Tn[1],Dn=C((0,o.useState)(!1),2),qn=Dn[0],Gn=Dn[1],Wn=C((0,o.useState)(!1),2),zn=Wn[0],Bn=Wn[1],Un=C((0,o.useState)([]),2),Yn=Un[0],Jn=Un[1],Hn=C((0,o.useState)([]),2),Zn=Hn[0],$n=Hn[1],Kn=function(t,n){cn(t),an(!0),fn(n),(0,b.bd)(!1,an)},Qn=function(t){re?(0,y.cN)(en).then((function(t){var n;Object.keys(t).length>0?(0,y._v)({filters:t},0,xn,Sn).then((function(t){if(200!==t.code)return Promise.reject(t);Lt(t.data.data),An(t.data.total_pages),En(t.data.total_count),_t(!0),In(!1)})).catch((function(t){_t(!1),Kn("warning",t.message)})):Kn("warning",null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.ConditionWarningMsg)})):Bn(!0)},Xn=function(){var t=A(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ht("/segments");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),te=function(){var t=A(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(void 0===bt){t.next=3;break}return t.next=3,(0,y.Ow)(bt).then((function(t){var n,e,i;200===t.code?(pn(!0),St(t.data.segment_data.title),Vt(t.data.segment_data.filters.description),rn(t.data.segment_data.filters.filters),pn(!1)):rn([{field_type:"input-text",field:{label:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.SelectFieldType,type:"",value:""},action_condition:{label:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.SelectCondition,type:"",value:""},action_values:{label:null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.SelectAction,type:"",value:[]},condition_logic:"AND"}])}));case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ne=function(){var t=A(O().mark((function t(){return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,y.LL)().then((function(t){zt(!1),qt(null==t?void 0:t.data)}));case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ee=function(){var t=A(O().mark((function t(){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(re){Gn(!0),n={title:jt,data:{description:Rt,filters:en}};try{(0,y.cN)(en).then((function(t){var e;Object.keys(t).length>0?(0,y.Dv)(n,bt).then((function(t){Gn(!1),void 0!==t.code&&201===t.code?(cn("success"),an(!0),fn(null==t?void 0:t.message)):(cn("warning"),an(!0),fn(null==t?void 0:t.message))})):(Gn(!1),Kn("warning",null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.ConditionWarningMsg))})).then((function(){wt&&(Ft(!0),Ft(!0),Mn(1),Nn(10),Pn(!Ln),Ft(!1))}))}catch(t){cn("warning"),an(!0),fn(t.message)}finally{(0,b.bd)(!1,an)}}else Bn(!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),ie=function(){var t=A(O().mark((function t(){var n;return O().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:re?(Gn(!0),n={title:jt,data:{description:Rt,filters:en}},(0,y.cN)(en).then((function(t){var e;Object.keys(t).length>0?(0,y.Dv)(n).then((function(t){Gn(!1),_t(!1),201===t.code?(ht("../segments/edit/".concat(null==t?void 0:t.data),{state:{status:"segment-created",message:null==t?void 0:t.message}}),Pn(!Ln),pn(!1),kt(V(V({},Ot),{},{title:""}))):kt(V(V({},Ot),{},{title:null==t?void 0:t.message}))})):(Kn("warning",null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.ConditionWarningMsg),Gn(!1))}))):Bn(!0);case 1:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();(0,o.useEffect)((function(){var t=!0;zt(!0),bt&&pn(!0);var n=function(){var n=A(O().mark((function n(){return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:if(!bt){n.next=5;break}return n.next=5,te();case 5:return n.next=7,ne();case 7:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return n(),function(){t=!1}}),[bt]),(0,o.useEffect)((function(){var t=!0;return wt&&t&&(Ft(!0),Qn(),Ft(!1)),function(){t=!1}}),[xn,Sn,Ln]),(0,o.useEffect)((function(){var t,n,e=!0;return"segment-created"===(null===(t=mt.state)||void 0===t?void 0:t.status)&&e&&(cn("success"),an(!0),fn(null===(n=mt.state)||void 0===n?void 0:n.message)),(0,b.bd)(!1,an),function(){e=!1}}),[]),(0,o.useEffect)((function(){var t=!0;function n(){return(n=A(O().mark((function n(){var e;return O().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:e={method:"GET"},r()(V({path:"mrm/v1/columns"},e)).then((function(t){return t})).then((function(n){t&&200==n.code&&(Jn(n.data.list_columns),$n(n.data.stored_columns))}));case 3:case"end":return n.stop()}}),n)})))).apply(this,arguments)}return function(){n.apply(this,arguments)}(),function(){t=!1}}),[Ln]);var re=window.MRM_Vars.is_mailmint_pro_license_active;return(0,o.useEffect)((function(){xt(null==gt?void 0:gt.id)}),[null==gt?void 0:gt.id]),(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{className:"add-segment-page",children:(0,S.jsxs)("div",{className:"mintmrm-container",children:[(0,S.jsx)(a.N_,{to:"/segments",children:(0,S.jsxs)("button",{className:"backto-segment",children:[(0,S.jsx)(v.A,{}),null===(nt=window)||void 0===nt||null===(nt=nt.MRM_Vars)||void 0===nt||null===(nt=nt.mint_trans)||void 0===nt?void 0:nt.Back]})}),(0,S.jsx)("h4",{className:"add-segment-title",children:bt?null===(et=window)||void 0===et||null===(et=et.MRM_Vars)||void 0===et||null===(et=et.mint_trans)||void 0===et?void 0:et.EditSegment:null===(it=window)||void 0===it||null===(it=it.MRM_Vars)||void 0===it||null===(it=it.mint_trans)||void 0===it?void 0:it.AddSegment}),mn?(0,S.jsx)(m.A,{type:"table"}):(0,S.jsxs)("div",{className:"segment-wrapper",children:[(0,S.jsxs)("div",{className:"segment-header",children:[(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsxs)("label",{htmlFor:"",children:[null===(rt=window)||void 0===rt||null===(rt=rt.MRM_Vars)||void 0===rt||null===(rt=rt.mint_trans)||void 0===rt?void 0:rt.SegmentName," ",(0,S.jsx)("span",{children:"*"})]}),(0,S.jsx)("input",{type:"text",name:"segment_name",placeholder:null===(ot=window)||void 0===ot||null===(ot=ot.MRM_Vars)||void 0===ot||null===(ot=ot.mint_trans)||void 0===ot?void 0:ot.EnterName,autoComplete:"off",value:jt,onChange:function(t){return St(t.target.value)}}),(0,S.jsx)("p",{className:null!=Ot&&Ot.title?"error-message show":"error-message",children:null==Ot?void 0:Ot.title})]}),(0,S.jsxs)("div",{className:"form-group",children:[(0,S.jsx)("label",{htmlFor:"",children:"Segment Description"}),(0,S.jsx)("input",{type:"text",name:"segment_description",placeholder:null===(lt=window)||void 0===lt||null===(lt=lt.MRM_Vars)||void 0===lt||null===(lt=lt.mint_trans)||void 0===lt?void 0:lt.EnterDescription,autoComplete:"off",value:Rt,onChange:function(t){return Vt(t.target.value)}})]})]}),(0,S.jsx)("div",{className:"segment-condition-wrapper",children:en.map((function(t,n){return(0,S.jsx)(M.A,{index:n,fields:Dt,textFieldCondition:Bt,numberFieldCondition:Yt,dateFieldCondition:Ut,customFieldCondition:Jt,booleanFieldCondition:Ht,segmentConditions:en,statusFieldCondition:$t,listsTagsFieldCondition:Qt,statusFieldAction:tn,conditionsLength:en.length,segmentCondition:t,setSegmentConditions:rn,lists:_n,tags:yn,loader:Wt,setIsPro:Bn},n)}))}),(0,S.jsxs)("button",{className:"preview-segment",title:"Click to Preview Contacts",onClick:Qn,children:[null===(at=window)||void 0===at||null===(at=at.MRM_Vars)||void 0===at||null===(at=at.mint_trans)||void 0===at?void 0:at.PreviewSegment,(0,S.jsx)(f.A,{})]})]}),wt&&Tt&&(0,S.jsx)(m.A,{type:"table"}),wt&&!Tt&&(0,S.jsxs)("div",{className:"preview-contact-wrapper contact-list-area",children:[(0,S.jsxs)("div",{className:"contact-list-header",children:[(0,S.jsxs)("h4",{children:[Vn," ",1<Vn?"Contacts":"Contact"]}),(0,S.jsx)(u.A,{handleRefresh:function(){Pn((function(t){return!t})),In(!0)},refreshToggle:Fn})]}),(0,S.jsx)("div",{className:"preview-contact-list",children:(0,S.jsx)("div",{className:"contact-list-area",children:(0,S.jsx)("div",{className:"contact-list-body",children:(0,S.jsx)("div",{className:"contact-list-table",children:(0,S.jsxs)("table",{children:[(0,S.jsx)("thead",{children:(0,S.jsxs)("tr",{children:[(0,S.jsx)("th",{className:"email",children:null===(st=Yn.find((function(t){return"email"===t.id})))||void 0===st?void 0:st.value}),null==Zn?void 0:Zn.map((function(t){var n=Yn.find((function(n){return n.id===t.id}));if(n)return(0,S.jsx)("th",{className:n.id,children:n.value},n.id)}))]})}),(0,S.jsxs)("tbody",{children:[!(null!=Ct&&Ct.length)&&(0,S.jsx)("tr",{children:(0,S.jsxs)("td",{className:"no-contact",colSpan:"15",style:{textAlign:"center"},children:[(0,S.jsx)(h.A,{}),null===(ut=window)||void 0===ut||null===(ut=ut.MRM_Vars)||void 0===ut||null===(ut=ut.mint_trans)||void 0===ut?void 0:ut.NoContactMsg]})}),Ct.map((function(t,n){return(0,S.jsx)(x.A,{contact:t,toggleRefresh:"",currentActive:0,setCurrentActive:0,handleSelectOne:function(){},selected:[],columns:Zn,isEditable:!1,listColumns:Yn},n)}))]})]})})})})}),(0,S.jsx)(p.A,{currentPage:xn,pageSize:Sn,onPageChange:Mn,totalCount:Vn,totalPages:kn,setPerPage:Nn})]}),(0,S.jsxs)("div",{className:"save-btn-area",children:[(0,S.jsxs)("button",{className:"mintmrm-btn cancel",onClick:Xn,children:[" ",null===(ct=window)||void 0===ct||null===(ct=ct.MRM_Vars)||void 0===ct||null===(ct=ct.mint_trans)||void 0===ct?void 0:ct.Cancel," "]}),(0,S.jsxs)("button",{className:"mintmrm-btn save",onClick:bt?ee:ie,disabled:!!qn,children:[bt?null===(dt=window)||void 0===dt||null===(dt=dt.MRM_Vars)||void 0===dt||null===(dt=dt.mint_trans)||void 0===dt?void 0:dt.Update:null===(vt=window)||void 0===vt||null===(vt=vt.MRM_Vars)||void 0===vt||null===(vt=vt.mint_trans)||void 0===vt?void 0:vt.Save,qn&&(0,S.jsx)("span",{className:"mintmrm-loader show"}),!re&&(0,S.jsx)("span",{className:"pro-tag-with-icon",children:(0,S.jsx)(j.A,{width:"18",height:"18"})})]})]})]})}),zn&&(0,S.jsx)("div",{className:"mintmrm-container",children:(0,S.jsx)(g.A,{setIsPro:Bn,proLink:_.q9})}),ln&&(0,S.jsx)(w.A,{setShowNotification:an,message:vn,notificationType:un,setNotificationType:cn}),(0,S.jsx)(s.A,{docLink:"https://getwpfunnels.com/docs/mail-mint-contacts/create-segment/",showVideo:"true",videoLink:"https://www.youtube.com/embed/p78-hOd8M1k"})]})}}}]);
//# sourceMappingURL=edit-segment.min.js.map?ver=1727345313956000