/*! For license information please see edit-segment.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[8951],{1443:(n,t,e)=>{e.d(t,{A:()=>l});var r=e(1609),i=e(4848);function o(){return(0,i.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"1em",height:"1em",viewBox:"0 0 24 24",children:[(0,i.jsx)("path",{fill:"currentColor",d:"M12,1A11,11,0,1,0,23,12,11,11,0,0,0,12,1Zm0,19a8,8,0,1,1,8-8A8,8,0,0,1,12,20Z",opacity:"0.25"}),(0,i.jsx)("path",{fill:"currentColor",d:"M10.14,1.16a11,11,0,0,0-9,8.92A1.59,1.59,0,0,0,2.46,12,1.52,1.52,0,0,0,4.11,10.7a8,8,0,0,1,6.66-6.61A1.42,1.42,0,0,0,12,2.69h0A1.57,1.57,0,0,0,10.14,1.16Z",children:(0,i.jsx)("animateTransform",{attributeName:"transform",dur:"0.75s",repeatCount:"indefinite",type:"rotate",values:"0 12 12;360 12 12"})})]})}const l=(0,r.memo)(o)},5934:(n,t,e)=>{e.d(t,{A:()=>u}),e(7723);var r=e(1609),i=e(1618),o=e(4848);function l(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function a(n){var t,e,a=n.handleRefresh,u=n.refreshToggle,s=(t=(0,r.useState)(!1),e=2,function(n){if(Array.isArray(n))return n}(t)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=o.call(e)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(n){s=!0,i=n}finally{try{if(!u&&null!=e.return&&(l=e.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(t,e)||function(n,t){if(n){if("string"==typeof n)return l(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?l(n,t):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}());return s[0],s[1],(0,o.jsxs)("button",{className:"refresh-btn mintmrm-tooltip ".concat(u?"rotate":""),onClick:a,children:[(0,o.jsx)(i.A,{}),(0,o.jsx)("p",{children:window.MRM_Vars.mint_trans.Refresh})]})}const u=(0,r.memo)(a)},5565:(n,t,e)=>{function r(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}e.d(t,{W:()=>i,h:()=>o});var i=function(){return function(n,t,e,i){var o;t.includes(n.target.id)?(e(t.filter((function(t){return t!=n.target.id}))),i(!1)):e([].concat(function(n){if(Array.isArray(n))return r(n)}(o=t)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(o)||function(n,t){if(n){if("string"==typeof n)return r(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?r(n,t):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}(),[n.target.id]))}},o=function(){return function(n,t,e,r){n(t?[]:r.map((function(n){return n.id}))),e(!t)}}},5595:(n,t,e)=>{e.r(t),e.d(t,{default:()=>Gn});var r=e(1455),i=e.n(r),o=e(7723),l=e(1609),a=e(7767),u=e(4976),s=e(9214),c=e(5934),d=e(2930),f=e(5125),v=e(9012),m=e(6931),p=e(6524),h=(e(4504),e(2017)),y=e(3676),b=e(9480),w=e(5747),_=e(7091),g=e(3552),x=e(3469),j=e(1599),S=e(9688),M=e(5170),N=e(9870),C=e(4848);function O(n){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},O(n)}function A(){var n=E(),t=n.m(A),e=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===e||"GeneratorFunction"===(t.displayName||t.name))}var i={throw:1,return:2,break:3,continue:3};function o(n){var t,e;return function(r){t||(t={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(n,t){return e(r.a,i[n],t)},delegateYield:function(n,i,o){return t.resultName=i,e(r.d,k(n),o)},finish:function(n){return e(r.f,n)}},e=function(n,e,i){r.p=t.prev,r.n=t.next;try{return n(e,i)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return n.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(A=function(){return{wrap:function(t,e,r,i){return n.w(o(t),e,r,i&&i.reverse())},isGeneratorFunction:r,mark:n.m,awrap:function(n,t){return new T(n,t)},AsyncIterator:I,async:function(n,t,e,i,l){return(r(t)?V:P)(o(n),t,e,i,l)},keys:R,values:k}})()}function k(n){if(null!=n){var t=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}}throw new TypeError(O(n)+" is not iterable")}function R(n){var t=Object(n),e=[];for(var r in t)e.unshift(r);return function n(){for(;e.length;)if((r=e.pop())in t)return n.value=r,n.done=!1,n;return n.done=!0,n}}function P(n,t,e,r,i){var o=V(n,t,e,r,i);return o.next().then((function(n){return n.done?n.value:o.next()}))}function V(n,t,e,r,i){return new I(E().w(n,t,e,r),i||Promise)}function I(n,t){function e(r,i,o,l){try{var a=n[r](i),u=a.value;return u instanceof T?t.resolve(u.v).then((function(n){e("next",n,o,l)}),(function(n){e("throw",n,o,l)})):t.resolve(u).then((function(n){a.value=n,o(a)}),(function(n){return e("throw",n,o,l)}))}catch(n){l(n)}}var r;this.next||(F(I.prototype),F(I.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),F(this,"_invoke",(function(n,i,o){function l(){return new t((function(t,r){e(n,o,t,r)}))}return r=r?r.then(l,l):l()}),!0)}function E(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function o(e,r,i,o){var u=r&&r.prototype instanceof a?r:a,s=Object.create(u.prototype);return F(s,"_invoke",function(e,r,i){var o,a,u,s=0,c=i||[],d=!1,f={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(t,e){return o=t,a=0,u=n,f.n=e,l}};function v(e,r){for(a=e,u=r,t=0;!d&&s&&!i&&t<c.length;t++){var i,o=c[t],v=f.p,m=o[2];e>3?(i=m===r)&&(u=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=n):o[0]<=v&&((i=e<2&&v<o[1])?(a=0,f.v=r,f.n=o[1]):v<m&&(i=e<3||o[0]>r||r>m)&&(o[4]=e,o[5]=r,f.n=m,a=0))}if(i||e>1)return l;throw d=!0,r}return function(i,c,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&v(c,m),a=c,u=m;(t=a<2?n:u)||!d;){o||(a?a<3?(a>1&&(f.n=-1),v(a,u)):f.n=u:f.v=u);try{if(s=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=n}else if((t=(d=f.n<0)?u:e.call(r,f))!==l)break}catch(t){o=n,a=1,u=t}finally{s=1}}return{value:t,done:d}}}(e,i,o),!0),s}var l={};function a(){}function u(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(F(t={},r,(function(){return this})),t),d=s.prototype=a.prototype=Object.create(c);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,F(n,i,"GeneratorFunction")),n.prototype=Object.create(d),n}return u.prototype=s,F(d,"constructor",s),F(s,"constructor",u),u.displayName="GeneratorFunction",F(s,i,"GeneratorFunction"),F(d),F(d,i,"Generator"),F(d,r,(function(){return this})),F(d,"toString",(function(){return"[object Generator]"})),(E=function(){return{w:o,m:f}})()}function F(n,t,e,r){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}F=function(n,t,e,r){if(t)i?i(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e;else{var o=function(t,e){F(n,t,(function(n){return this._invoke(t,e,n)}))};o("next",0),o("throw",1),o("return",2)}},F(n,t,e,r)}function T(n,t){this.v=n,this.k=t}function D(n,t,e,r,i,o,l){try{var a=n[o](l),u=a.value}catch(n){return void e(n)}a.done?t(u):Promise.resolve(u).then(r,i)}function G(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function l(n){D(o,r,i,l,a,"next",n)}function a(n){D(o,r,i,l,a,"throw",n)}l(void 0)}))}}function L(n){return function(n){if(Array.isArray(n))return W(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||B(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=o.call(e)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(n){s=!0,i=n}finally{try{if(!u&&null!=e.return&&(l=e.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(n,t)||B(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(n,t){if(n){if("string"==typeof n)return W(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?W(n,t):void 0}}function W(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}function U(n){var t,e,r=n.selected,o=n.setSelected,a=n.endpoint,u=n.allowMultiple,s=n.allowNewCreate,c=n.name,d=n.title,f=n.refresh,v=n.setRefresh,m=n.prefix,p=n.setSegmentConditions,y=n.segmentConditions,w=q((0,l.useState)(""),2),_=w[0],g=w[1],j=q((0,l.useState)(""),2),O=j[0],k=j[1],R=q((0,l.useState)(!1),2),P=R[0],V=R[1],I=q((0,l.useState)("success"),2),E=I[0],F=I[1],T=q((0,l.useState)(!1),2),D=T[0],B=T[1],W=q((0,l.useState)(""),2),U=W[0],z=W[1],H=q((0,l.useState)([]),2),$=H[0],Y=H[1],Z=q((0,l.useState)(!1),2),J=Z[0],K=Z[1],Q=(0,l.useMemo)((function(){return _?$.filter((function(n){return n.title.toLowerCase().includes(_.toLocaleLowerCase())})):$}),[_,f,$]),X=function(n){n.stopPropagation();var t=n.target.value?n.target.value:n.target.dataset.customValue,e=n.target.dataset.customId,i=null==r?void 0:r.findIndex((function(n){return n.id==e}));if(u)if(i>=0){var l=y;p(L(y),l[m].action_values.value.splice(i,1)),o(r.filter((function(n){return n.id!=e})))}else{var a=y;a[m].action_values.value=[].concat(L(r),[{id:e,title:t}]),p(a),o([].concat(L(r),[{id:e,title:t}]))}else o(i>=0?[]:[{id:e,title:t}])},nn=function(){var n=G(A().mark((function n(){var t;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:t={title:_},(0,S.c)(a,t).then((function(n){if("success"===(null==n?void 0:n.status)){g(""),z(""),o([].concat(L(r),[{id:null==n?void 0:n.data,title:t.title}]));var e=y;e[m].action_values.value=[].concat(L(r),[{id:null==n?void 0:n.data,title:t.title}]),p(e),F("success"),V(!0),k(null==n?void 0:n.message),v(!f)}else F("warning"),V(!0),k(null==n?void 0:n.message);(0,x.bd)(!1,V)})),B(!1);case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();return(0,l.useEffect)((function(){function n(){return(n=G(A().mark((function n(){var t,e;return A().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return K(!0),t="mrm/v1/".concat(a,"?").concat(U),n.next=4,i()({path:t});case 4:"success"==(e=n.sent).status&&(Y(e.data.data),K(!1));case 6:case"end":return n.stop()}}),n)})))).apply(this,arguments)}!function(){n.apply(this,arguments)}()}),[U,a,f]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("ul",{className:n.isActive?"add-contact mintmrm-dropdown show":"add-contact mintmrm-dropdown",children:[(0,C.jsx)("li",{className:"searchbar",children:(0,C.jsxs)("span",{className:"pos-relative",children:[(0,C.jsx)(N.A,{}),(0,C.jsx)("input",{type:"search",name:"column-search",placeholder:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.SearchOrCreate,value:_,onChange:function(n){K(!0),n.stopPropagation(),n.preventDefault();var t=n.target.value;g(t),t.length>=1?z("&search=".concat(t)):z(""),t.length&&B(!1),K(!1)}})]})}),J?(0,C.jsx)(h.A,{type:"table-full-six"}):(0,C.jsxs)(C.Fragment,{children:[0===$.length||0===Q.length?(0,C.jsxs)("li",{className:"list-title not-found",children:["No ",c," Found"]}):(0,C.jsx)("li",{className:"list-title",children:d}),(0,C.jsx)("div",{className:"option-section",children:(null==Q?void 0:Q.length)>0&&Q.map((function(n,t){var e,i=(e=n.id,(null==r?void 0:r.findIndex((function(n){return n.id==e})))>=0);return(0,C.jsx)("li",{className:i?"single-column mrm-custom-select-single-column-selected":"single-column",children:(0,C.jsxs)("div",{className:"mintmrm-checkbox",children:[(0,C.jsx)("input",{type:"checkbox",name:n.id,id:m+n.id,value:n.title,"data-custom-id":n.id,onChange:X,checked:i}),(0,C.jsx)("label",{htmlFor:m+n.id,className:"mrm-custom-select-label",children:n.title})]})},t)}))}),0===$.length||_&&s?(0,C.jsxs)(C.Fragment,{children:[(0,C.jsxs)("button",{className:D?"mrm-custom-select-add-btn":"mrm-custom-select-add-btn show",onClick:function(){B(!0)},children:[(0,C.jsx)(M.A,{})," Add ",c]}),(0,C.jsxs)("div",{className:D?"add-item-input-wrapper show":"add-item-input-wrapper",children:[(0,C.jsx)("input",{type:"text",placeholder:"Enter "+c+" Name",value:_,onChange:function(n){return g(n.target.value)}}),(0,C.jsx)("button",{className:"mintmrm-btn",onClick:nn,children:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.Save})]})]}):null]})]}),P&&(0,C.jsx)(b.A,{setShowNotification:V,message:O,notificationType:E,setNotificationType:F})]})}const z=(0,l.memo)(U);var H=e(4983),$=e(9431),Y=e(5919),Z=e(9514),J=e(6005),K=e(9185);function Q(n){return Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Q(n)}function X(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function nn(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?X(Object(e),!0).forEach((function(t){tn(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):X(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function tn(n,t,e){return(t=function(n){var t=function(n){if("object"!=Q(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=Q(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==Q(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function en(){var n=sn(),t=n.m(en),e=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===e||"GeneratorFunction"===(t.displayName||t.name))}var i={throw:1,return:2,break:3,continue:3};function o(n){var t,e;return function(r){t||(t={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(n,t){return e(r.a,i[n],t)},delegateYield:function(n,i,o){return t.resultName=i,e(r.d,rn(n),o)},finish:function(n){return e(r.f,n)}},e=function(n,e,i){r.p=t.prev,r.n=t.next;try{return n(e,i)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return n.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(en=function(){return{wrap:function(t,e,r,i){return n.w(o(t),e,r,i&&i.reverse())},isGeneratorFunction:r,mark:n.m,awrap:function(n,t){return new dn(n,t)},AsyncIterator:un,async:function(n,t,e,i,l){return(r(t)?an:ln)(o(n),t,e,i,l)},keys:on,values:rn}})()}function rn(n){if(null!=n){var t=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}}throw new TypeError(Q(n)+" is not iterable")}function on(n){var t=Object(n),e=[];for(var r in t)e.unshift(r);return function n(){for(;e.length;)if((r=e.pop())in t)return n.value=r,n.done=!1,n;return n.done=!0,n}}function ln(n,t,e,r,i){var o=an(n,t,e,r,i);return o.next().then((function(n){return n.done?n.value:o.next()}))}function an(n,t,e,r,i){return new un(sn().w(n,t,e,r),i||Promise)}function un(n,t){function e(r,i,o,l){try{var a=n[r](i),u=a.value;return u instanceof dn?t.resolve(u.v).then((function(n){e("next",n,o,l)}),(function(n){e("throw",n,o,l)})):t.resolve(u).then((function(n){a.value=n,o(a)}),(function(n){return e("throw",n,o,l)}))}catch(n){l(n)}}var r;this.next||(cn(un.prototype),cn(un.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),cn(this,"_invoke",(function(n,i,o){function l(){return new t((function(t,r){e(n,o,t,r)}))}return r=r?r.then(l,l):l()}),!0)}function sn(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function o(e,r,i,o){var u=r&&r.prototype instanceof a?r:a,s=Object.create(u.prototype);return cn(s,"_invoke",function(e,r,i){var o,a,u,s=0,c=i||[],d=!1,f={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(t,e){return o=t,a=0,u=n,f.n=e,l}};function v(e,r){for(a=e,u=r,t=0;!d&&s&&!i&&t<c.length;t++){var i,o=c[t],v=f.p,m=o[2];e>3?(i=m===r)&&(u=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=n):o[0]<=v&&((i=e<2&&v<o[1])?(a=0,f.v=r,f.n=o[1]):v<m&&(i=e<3||o[0]>r||r>m)&&(o[4]=e,o[5]=r,f.n=m,a=0))}if(i||e>1)return l;throw d=!0,r}return function(i,c,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&v(c,m),a=c,u=m;(t=a<2?n:u)||!d;){o||(a?a<3?(a>1&&(f.n=-1),v(a,u)):f.n=u:f.v=u);try{if(s=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=n}else if((t=(d=f.n<0)?u:e.call(r,f))!==l)break}catch(t){o=n,a=1,u=t}finally{s=1}}return{value:t,done:d}}}(e,i,o),!0),s}var l={};function a(){}function u(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(cn(t={},r,(function(){return this})),t),d=s.prototype=a.prototype=Object.create(c);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,cn(n,i,"GeneratorFunction")),n.prototype=Object.create(d),n}return u.prototype=s,cn(d,"constructor",s),cn(s,"constructor",u),u.displayName="GeneratorFunction",cn(s,i,"GeneratorFunction"),cn(d),cn(d,i,"Generator"),cn(d,r,(function(){return this})),cn(d,"toString",(function(){return"[object Generator]"})),(sn=function(){return{w:o,m:f}})()}function cn(n,t,e,r){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}cn=function(n,t,e,r){if(t)i?i(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e;else{var o=function(t,e){cn(n,t,(function(n){return this._invoke(t,e,n)}))};o("next",0),o("throw",1),o("return",2)}},cn(n,t,e,r)}function dn(n,t){this.v=n,this.k=t}function fn(n,t,e,r,i,o,l){try{var a=n[o](l),u=a.value}catch(n){return void e(n)}a.done?t(u):Promise.resolve(u).then(r,i)}function vn(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function l(n){fn(o,r,i,l,a,"next",n)}function a(n){fn(o,r,i,l,a,"throw",n)}l(void 0)}))}}function mn(n){return function(n){if(Array.isArray(n))return yn(n)}(n)||function(n){if("undefined"!=typeof Symbol&&null!=n[Symbol.iterator]||null!=n["@@iterator"])return Array.from(n)}(n)||hn(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function pn(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=o.call(e)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(n){s=!0,i=n}finally{try{if(!u&&null!=e.return&&(l=e.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(n,t)||hn(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function hn(n,t){if(n){if("string"==typeof n)return yn(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?yn(n,t):void 0}}function yn(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}var bn=function(n){var t,e,r,i,a,u,s,c,d,f,v,m,p,h,y,b,w,_,g,x,j,S,M,N,O,A,k,R=n.index,P=n.fields,V=(n.loader,n.conditionsLength),I=n.textFieldCondition,E=n.numberFieldCondition,F=n.dateFieldCondition,T=n.statusFieldCondition,D=n.listsTagsFieldCondition,G=n.statusFieldAction,L=n.segmentCondition,q=n.setSegmentConditions,B=n.segmentConditions,W=n.lists,U=n.tags,Q=n.customFieldCondition,X=(n.setIsPro,n.booleanFieldCondition),tn=n.wcSelectFieldCondition,rn=pn((0,l.useState)(!1),2),on=rn[0],ln=rn[1],an=pn((0,l.useState)(!1),2),un=an[0],sn=an[1],cn=pn((0,l.useState)(!0),2),dn=cn[0],fn=cn[1],hn=pn((0,l.useState)(!1),2),yn=hn[0],bn=hn[1],wn=pn((0,l.useState)(!1),2),_n=wn[0],gn=wn[1],xn=pn((0,l.useState)(""),2),jn=xn[0],Sn=xn[1],Mn=(0,l.useRef)(null),Nn=(0,l.useRef)(null),Cn=(0,l.useRef)(null),On=(0,l.useRef)(null),An=(0,l.useRef)(null),kn=(0,l.useRef)(null),Rn=pn((0,l.useState)([]),2),Pn=Rn[0],Vn=Rn[1],In=pn((0,l.useState)([]),2),En=In[0],Fn=In[1],Tn=pn((0,l.useState)(""),2),Dn=(Tn[0],Tn[1]),Gn=pn((0,l.useState)(""),2),Ln=(Gn[0],Gn[1]),qn=pn((0,l.useState)(!1),2),Bn=qn[0],Wn=qn[1],Un=pn((0,l.useState)(!1),2),zn=Un[0],Hn=Un[1],$n=pn((0,l.useState)(""),2),Yn=$n[0],Zn=$n[1],Jn=pn((0,l.useState)(!1),2),Kn=Jn[0],Qn=Jn[1],Xn=pn((0,l.useState)([]),2),nt=Xn[0],tt=Xn[1],et=pn((0,l.useState)([]),2),rt=et[0],it=et[1],ot=pn((0,l.useState)([]),2),lt=ot[0],at=ot[1],ut=pn((0,l.useState)([]),2),st=ut[0],ct=ut[1],dt=pn((0,l.useState)("Please enter 3 or more characters"),2),ft=dt[0],vt=dt[1],mt=function(){var n=vn(en().mark((function n(){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:B.splice(R,1),q(mn(B));case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),pt=function(n){q((function(t){var e,r,i;return[].concat(mn(t),[{field_type:"input-text",field:{label:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.SelectFieldType,type:"",value:""},action_condition:{label:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.SelectCondition,type:"",value:""},action_values:{label:null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.SelectAction,type:"",value:[]},lists:{list:[],selected:[]},tags:{tag:[],selected:[]},condition_logic:n}])}))},ht=function(n){"field-type"===n?sn(!un):"field-condition"===n?bn(!yn):gn(!_n)};(0,Y.c7)(Mn,sn),(0,Y.c7)(Nn,bn),(0,Y.c7)(kn,ln),(0,Y.c7)(Cn,gn),(0,Y.c7)(On,Wn),(0,Y.c7)(An,Hn);var yt=function(n,t,e){Sn(e),bn(!1);var r=B;r[R].action_condition.label=t,r[R].action_condition.type=n,r[R].action_condition.value=e,q(r)},bt=function(n,t,e){Dn(e),gn(!1);var r=B;r[R].action_values.label=t,r[R].action_values.type=n,r[R].action_values.value=e,q(r)},wt=function(n,t){Ln(n.target.value);var e=B;e[R].action_values.value=n.target.value,e[R].action_values.type=t,q(e)},_t=function(n,t){var e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",r=B;Ln(n.target.value),"start"===e?r[R].action_values.value=n.target.value:"end"===e&&(r[R].action_values.endDate=n.target.value),r[R].action_values.type=t,q(r)};(0,l.useEffect)((function(){var n,t=!0;if(t)return(n=B)[R].lists.list=mn(W),n[R].lists.selected=mn(Pn),q(n),function(){t=!1}}),[W,Pn,Vn]),(0,l.useEffect)((function(){var n,t=!0;if(t)return(n=B)[R].tags.tag=mn(U),n[R].tags.selected=mn(En),q(n),function(){t=!1}}),[U,En,Fn]);var gt=L.condition_logic,xt=window.MRM_Vars.is_mailmint_pro_license_active;(0,l.useEffect)((function(){Zn(""),Qn(!1)}),[un]),(0,l.useEffect)((function(){Qn(!0)}),[Yn]);var jt=function(n){return(0,C.jsx)(Z.c.NoOptionsMessage,nn(nn({},n),{},{children:(0,C.jsx)("span",{children:ft})}))},St=function(){var n=vn(en().mark((function n(t){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.length>=3)){n.next=4;break}return vt((0,o.__)("Fetching options...","mrm")),n.next=4,(0,K.AH)(t,"wc").then((function(n){n.success&&(0===n.products.length?vt((0,o.__)("No product found","mrm")):(tt(n.products),vt((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),Mt=function(){var n=vn(en().mark((function n(t){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.length>=3)){n.next=4;break}return vt((0,o.__)("Fetching options...","mrm")),n.next=4,(0,K.DV)(t,"wc").then((function(n){n.success&&(0===n.category.length?vt((0,o.__)("No category found","mrm")):(it(n.category),vt((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),Nt=function(){var n=vn(en().mark((function n(t){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.length>=3)){n.next=4;break}return vt((0,o.__)("Fetching options...","mrm")),n.next=4,(0,K.lp)(t,"wc").then((function(n){n.success&&(0===n.tags.length?vt((0,o.__)("No tag found","mrm")):(at(n.tags),vt((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}(),Ct=function(){var n=vn(en().mark((function n(t){return en().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(t.length>=3)){n.next=4;break}return vt((0,o.__)("Fetching options...","mrm")),n.next=4,(0,K.Q3)(t).then((function(n){n.success&&(0===n.coupons.length?vt((0,o.__)("No coupon found","mrm")):(ct(n.coupons),vt((0,o.__)("Please enter 3 or more characters","mrm"))))}));case 4:case"end":return n.stop()}}),n)})));return function(t){return n.apply(this,arguments)}}();return(0,C.jsx)(C.Fragment,{children:(0,C.jsxs)("div",{className:V>1?"single-condition more-than-one-condition":"single-condition only-one-condition",children:[(0,C.jsxs)("ul",{className:"single-condition-inner",children:[(0,C.jsx)("li",{className:"single-condition-filed field-type",children:(0,C.jsxs)("div",{ref:Mn,className:un?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Field Type"!==L.field.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return ht("field-type")},children:L.field.label}),(0,C.jsx)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:Object.keys(P).map((function(n,t){var e=P[n];return(0,C.jsxs)("div",{children:[(0,C.jsx)("li",{className:"has-sub-dropdown ".concat(n===Yn&&Kn?"show":""),onClick:function(){return function(n){Zn(n),Qn(!Kn)}(n)},children:n},t),n===Yn&&Kn&&e.map((function(n,t){return(0,C.jsx)("li",{className:"group-item",onClick:function(){return function(n,t,e,r){var i;sn(!1);var o=B;o[R].field.label=t,o[R].field.type=n,o[R].field.value=e,o[R].field.options=r,o[R].action_values.value=[],o[R].action_condition.label=null===(i=window)||void 0===i||null===(i=i.MRM_Vars)||void 0===i||null===(i=i.mint_trans)||void 0===i?void 0:i.SelectCondition,q(o)}(n.type,n.label,n.value,null==n?void 0:n.options)},children:n.label},t)}))]},t)}))})]})}),(0,C.jsx)("li",{className:"single-condition-filed field-condition",children:(0,C.jsxs)("div",{ref:Nn,className:yn?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Condition"!==L.action_condition.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return ht("field-condition")},children:L.action_condition.label}),(0,C.jsxs)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:["email"===L.field.type||"name"===L.field.type||"address"===L.field.type||""===L.field.type||"text"===L.field.type||"textArea"===L.field.type?I.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(L.field.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"status"===L.field.type?T.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(n.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"list"===L.field.type||"selectField"===L.field.type||"radioField"===L.field.type?D.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(n.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"checkboxField"===L.field.type?Q.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(n.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"tag"===L.field.type?D.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(n.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"number"===L.field.type?E.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(n.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"date"===L.field.type?F.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(n.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"boolean"===L.field.type?X.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(L.field.type,n.label,n.value)},value:n.value,children:n.label},t)})):null,"wc_select"===L.field.type?tn.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return yt(n.type,n.label,n.value)},value:n.value,children:n.label},t)})):null]})]})}),(0,C.jsxs)("li",{className:"single-condition-filed field-action",children:["email"===L.field.type||"name"===L.field.type||"address"===L.field.type||""===L.field.type||"text"===L.field.type||"textArea"===L.field.type?(0,C.jsx)("input",{type:"text",placeholder:"Enter value",value:L.action_values.value,onChange:function(n){return wt(n,L.field.type)}}):null,"number"===L.field.type?(0,C.jsx)("input",{type:"number",onKeyDown:function(n){return["e","E"].includes(n.key)&&n.preventDefault()},placeholder:"Enter value",value:L.action_values.value,onChange:function(n){return wt(n,L.field.type)}}):null,"date"===(null==L||null===(t=L.field)||void 0===t?void 0:t.type)&&"in_the_between_dates"!==(null==L||null===(e=L.action_condition)||void 0===e?void 0:e.value)?(0,C.jsx)("input",{type:"date",placeholder:"Enter value",value:null==L||null===(r=L.action_values)||void 0===r?void 0:r.value,onChange:function(n){var t;return wt(n,null==L||null===(t=L.field)||void 0===t?void 0:t.type)}}):null,"date"===(null==L||null===(i=L.field)||void 0===i?void 0:i.type)&&"in_the_between_dates"===(null==L||null===(a=L.action_condition)||void 0===a?void 0:a.value)?(0,C.jsxs)("div",{className:"date-input",children:[(0,C.jsx)("input",{type:"date",placeholder:"Enter value",value:null==L||null===(u=L.action_values)||void 0===u?void 0:u.value,onChange:function(n){var t;return _t(n,null==L||null===(t=L.field)||void 0===t?void 0:t.type,"start")}}),(0,C.jsx)("span",{className:"and-text",children:"and"}),(0,C.jsx)("input",{type:"date",placeholder:"Enter value",value:null==L||null===(s=L.action_values)||void 0===s?void 0:s.endDate,onChange:function(n){var t;return _t(n,null==L||null===(t=L.field)||void 0===t?void 0:t.type,"end")}})]}):null,"status"===L.field.type?(0,C.jsxs)("div",{ref:Cn,className:_n?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Action"!==L.action_values.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return ht("field-action")},children:L.action_values.label}),(0,C.jsx)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:G.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return bt("status",n.label,n.value)},value:n.value,children:n.label},t)}))})]}):null,"selectField"===L.field.type||"radioField"===L.field.type||"checkboxField"===L.field.type?(0,C.jsxs)("div",{ref:Cn,className:_n?"mrm-custom-select-container show-dropdown":"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:"Select Action"!==L.action_values.label?"mrm-custom-select-btn focus":"mrm-custom-select-btn",type:"button",onClick:function(){return ht("field-action")},children:L.action_values.label}),(0,C.jsx)("ul",{className:"mintmrm-dropdown mrm-custom-select-dropdown",children:L.field.options.map((function(n,t){return(0,C.jsx)("li",{onClick:function(){return bt("status",n,n)},value:n,children:n},t)}))})]}):null,"list"===L.field.type?"without-any-list"===jn?null:(0,C.jsxs)("div",{ref:On,className:"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:Bn?"drop-down-button show":"drop-down-button",type:"button",onClick:function(){xt&&Wn(!Bn)},children:0!==L.action_values.value.length?null===(c=L.action_values.value)||void 0===c?void 0:c.map((function(n){return(0,C.jsxs)("span",{className:"single-list mintmrm-tag-list",children:[n.title,(0,C.jsx)("span",{className:"close-list",title:"Delete",onClick:function(t){return function(n,t){n.stopPropagation();var e=Pn.findIndex((function(n){return n.id===t})),r=L.action_values.value.findIndex((function(n){return n.id===t}));0<=r&&(Vn(Pn.filter((function(n){return n.id!==t}))),q(mn(B),L.action_values.value.splice(r,1))),0<=e&&Vn(Pn.filter((function(n){return n.id!==t})))}(t,n.id)},children:(0,C.jsx)(H.A,{})})]},n.id)})):L.action_values.label}),(0,C.jsx)(z,{isActive:Bn,setIsActive:Wn,selected:L.action_values.value,setSelected:Vn,endpoint:"lists",allowMultiple:!0,allowNewCreate:!0,name:"list",title:null===(d=window)||void 0===d||null===(d=d.MRM_Vars)||void 0===d||null===(d=d.mint_trans)||void 0===d?void 0:d.CHOOSELIST,refresh:dn,setRefresh:fn,prefix:R,setSegmentConditions:q,segmentConditions:B})]}):null,"tag"===L.field.type?"without-any-tag"===jn?null:(0,C.jsxs)("div",{ref:An,className:"mrm-custom-select-container",children:[(0,C.jsx)("button",{className:zn?"drop-down-button show":"drop-down-button",type:"button",onClick:function(){xt&&Hn(!zn)},children:L.action_values.value.length?null===(f=L.action_values.value)||void 0===f?void 0:f.map((function(n,t){return(0,C.jsxs)("span",{className:"single-list mintmrm-tag-list",children:[n.title,(0,C.jsx)("span",{className:"close-list",title:"Delete",onClick:function(t){return function(n,t){n.stopPropagation();var e=En.findIndex((function(n){return n.id===t})),r=L.action_values.value.findIndex((function(n){return n.id===t}));0<=r&&(Fn(En.filter((function(n){return n.id!==t}))),q(mn(B),L.action_values.value.splice(r,1))),0<=e&&Fn(En.filter((function(n){return n.id!==t})))}(t,n.id)},children:(0,C.jsx)(H.A,{})})]},n.id)})):L.action_values.label}),(0,C.jsx)(z,{isActive:zn,setIsActive:Hn,selected:L.action_values.value,setSelected:Fn,endpoint:"tags",allowMultiple:!0,allowNewCreate:!0,name:"tag",title:null===(v=window)||void 0===v||null===(v=v.MRM_Vars)||void 0===v||null===(v=v.mint_trans)||void 0===v?void 0:v.CHOOSETAG,refresh:dn,setRefresh:fn,prefix:R,setSegmentConditions:q,segmentConditions:B})]}):null,"wc_select"===(null==L||null===(m=L.field)||void 0===m?void 0:m.type)&&"purchased_products"===(null==L||null===(p=L.field)||void 0===p?void 0:p.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(J.Ay,{name:"select-two",components:{NoOptionsMessage:jt},value:null!==(h=L.action_values.value)&&void 0!==h?h:"",onChange:function(n){var t;!function(n,t){var e=mn(B);e[R].action_values.value=n,e[R].action_values.type=t,q(e)}(n,null==L||null===(t=L.field)||void 0===t?void 0:t.type)},onInputChange:function(n){St(n)},options:nt,isMulti:"true",placeholder:null===(y=window)||void 0===y||null===(y=y.MRM_Vars)||void 0===y||null===(y=y.mint_trans)||void 0===y?void 0:y.Search,isSearchable:!0})}):null,"wc_select"===(null==L||null===(b=L.field)||void 0===b?void 0:b.type)&&"purchased_categories"===(null==L||null===(w=L.field)||void 0===w?void 0:w.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(J.Ay,{name:"select-two",components:{NoOptionsMessage:jt},value:null!==(_=L.action_values.value)&&void 0!==_?_:"",onChange:function(n){var t;!function(n,t){var e=mn(B);e[R].action_values.value=n,e[R].action_values.type=t,q(e)}(n,null==L||null===(t=L.field)||void 0===t?void 0:t.type)},onInputChange:function(n){Mt(n)},options:rt,isMulti:"true",placeholder:null===(g=window)||void 0===g||null===(g=g.MRM_Vars)||void 0===g||null===(g=g.mint_trans)||void 0===g?void 0:g.Search,isSearchable:!0})}):null,"wc_select"===(null==L||null===(x=L.field)||void 0===x?void 0:x.type)&&"purchased_tags"===(null==L||null===(j=L.field)||void 0===j?void 0:j.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(J.Ay,{name:"select-two",components:{NoOptionsMessage:jt},value:null!==(S=L.action_values.value)&&void 0!==S?S:"",onChange:function(n){var t;!function(n,t){var e=mn(B);e[R].action_values.value=n,e[R].action_values.type=t,q(e)}(n,null==L||null===(t=L.field)||void 0===t?void 0:t.type)},onInputChange:function(n){Nt(n)},options:lt,isMulti:"true",placeholder:null===(M=window)||void 0===M||null===(M=M.MRM_Vars)||void 0===M||null===(M=M.mint_trans)||void 0===M?void 0:M.Search,isSearchable:!0})}):null,"wc_select"===(null==L||null===(N=L.field)||void 0===N?void 0:N.type)&&"used_coupons"===(null==L||null===(O=L.field)||void 0===O?void 0:O.value)?(0,C.jsx)("div",{className:"mrm-custom-select-container",children:(0,C.jsx)(J.Ay,{name:"select-two",components:{NoOptionsMessage:jt},value:null!==(A=L.action_values.value)&&void 0!==A?A:"",onChange:function(n){var t;!function(n,t){var e=mn(B);e[R].action_values.value=n,e[R].action_values.type=t,q(e)}(n,null==L||null===(t=L.field)||void 0===t?void 0:t.type)},onInputChange:function(n){Ct(n)},options:st,isMulti:"true",placeholder:null===(k=window)||void 0===k||null===(k=k.MRM_Vars)||void 0===k||null===(k=k.mint_trans)||void 0===k?void 0:k.Search,isSearchable:!0})}):null]}),V>1&&(0,C.jsx)("li",{className:"single-condition-filed delete-condition",children:(0,C.jsx)("button",{type:"button",title:"Delete this Condition",onClick:function(n){return mt()},children:(0,C.jsx)($.A,{})})})]}),(0,C.jsx)("div",{className:"condition-repeater",children:(0,C.jsxs)("span",{ref:kn,className:on?"add-condition show-dropdown":"add-condition",title:"Add Condition",onClick:function(){ln(!on)},children:[(0,C.jsxs)("svg",{width:"22",height:"22",fill:"none",viewBox:"0 0 26 26",xmlns:"http://www.w3.org/2000/svg",children:[(0,C.jsxs)("g",{fill:"#573BFF",clipPath:"url(#clip0_616_1195)",children:[(0,C.jsx)("path",{d:"M13 0C5.831 0 0 5.831 0 13s5.831 13 13 13 13-5.832 13-13S20.169 0 13 0zm0 23.986C6.943 23.986 2.014 19.058 2.014 13 2.014 6.942 6.944 2.014 13 2.014c6.057 0 10.986 4.928 10.986 10.986 0 6.058-4.928 10.986-10.986 10.986z"}),(0,C.jsx)("path",{d:"M18.035 11.902h-4.028V7.875a1.007 1.007 0 10-2.014 0v4.027H7.965a1.007 1.007 0 100 2.014h4.028v4.028a1.007 1.007 0 102.014 0v-4.027h4.028a1.007 1.007 0 100-2.014z"})]}),(0,C.jsx)("defs",{children:(0,C.jsx)("clipPath",{id:"clip0_616_1195",children:(0,C.jsx)("path",{fill:"#fff",d:"M0 0h26v26H0z"})})})]}),(0,C.jsxs)("ul",{className:"conditions mintmrm-dropdown",children:[(0,C.jsx)("li",{onClick:function(){return pt("AND")},children:"AND"}),(0,C.jsx)("li",{onClick:function(){return pt("OR")},children:"OR"})]})]})}),(0,C.jsxs)("div",{className:"condition-symbol",children:["AND"===gt&&(0,C.jsx)("span",{className:"symbol-and",children:"&"}),"OR"===gt&&(0,C.jsx)("span",{className:"symbol-or",children:"or"})]})]})})};const wn=(0,l.memo)(bn);var _n=e(5270),gn=e(1443);function xn(n){return xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},xn(n)}function jn(n,t){var e=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),e.push.apply(e,r)}return e}function Sn(n){for(var t=1;t<arguments.length;t++){var e=null!=arguments[t]?arguments[t]:{};t%2?jn(Object(e),!0).forEach((function(t){Mn(n,t,e[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(e)):jn(Object(e)).forEach((function(t){Object.defineProperty(n,t,Object.getOwnPropertyDescriptor(e,t))}))}return n}function Mn(n,t,e){return(t=function(n){var t=function(n){if("object"!=xn(n)||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var e=t.call(n,"string");if("object"!=xn(e))return e;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}(n);return"symbol"==xn(t)?t:t+""}(t))in n?Object.defineProperty(n,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):n[t]=e,n}function Nn(){var n=Pn(),t=n.m(Nn),e=(Object.getPrototypeOf?Object.getPrototypeOf(t):t.__proto__).constructor;function r(n){var t="function"==typeof n&&n.constructor;return!!t&&(t===e||"GeneratorFunction"===(t.displayName||t.name))}var i={throw:1,return:2,break:3,continue:3};function o(n){var t,e;return function(r){t||(t={stop:function(){return e(r.a,2)},catch:function(){return r.v},abrupt:function(n,t){return e(r.a,i[n],t)},delegateYield:function(n,i,o){return t.resultName=i,e(r.d,Cn(n),o)},finish:function(n){return e(r.f,n)}},e=function(n,e,i){r.p=t.prev,r.n=t.next;try{return n(e,i)}finally{t.next=r.n}}),t.resultName&&(t[t.resultName]=r.v,t.resultName=void 0),t.sent=r.v,t.next=r.n;try{return n.call(this,t)}finally{r.p=t.prev,r.n=t.next}}}return(Nn=function(){return{wrap:function(t,e,r,i){return n.w(o(t),e,r,i&&i.reverse())},isGeneratorFunction:r,mark:n.m,awrap:function(n,t){return new In(n,t)},AsyncIterator:Rn,async:function(n,t,e,i,l){return(r(t)?kn:An)(o(n),t,e,i,l)},keys:On,values:Cn}})()}function Cn(n){if(null!=n){var t=n["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],e=0;if(t)return t.call(n);if("function"==typeof n.next)return n;if(!isNaN(n.length))return{next:function(){return n&&e>=n.length&&(n=void 0),{value:n&&n[e++],done:!n}}}}throw new TypeError(xn(n)+" is not iterable")}function On(n){var t=Object(n),e=[];for(var r in t)e.unshift(r);return function n(){for(;e.length;)if((r=e.pop())in t)return n.value=r,n.done=!1,n;return n.done=!0,n}}function An(n,t,e,r,i){var o=kn(n,t,e,r,i);return o.next().then((function(n){return n.done?n.value:o.next()}))}function kn(n,t,e,r,i){return new Rn(Pn().w(n,t,e,r),i||Promise)}function Rn(n,t){function e(r,i,o,l){try{var a=n[r](i),u=a.value;return u instanceof In?t.resolve(u.v).then((function(n){e("next",n,o,l)}),(function(n){e("throw",n,o,l)})):t.resolve(u).then((function(n){a.value=n,o(a)}),(function(n){return e("throw",n,o,l)}))}catch(n){l(n)}}var r;this.next||(Vn(Rn.prototype),Vn(Rn.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),Vn(this,"_invoke",(function(n,i,o){function l(){return new t((function(t,r){e(n,o,t,r)}))}return r=r?r.then(l,l):l()}),!0)}function Pn(){var n,t,e="function"==typeof Symbol?Symbol:{},r=e.iterator||"@@iterator",i=e.toStringTag||"@@toStringTag";function o(e,r,i,o){var u=r&&r.prototype instanceof a?r:a,s=Object.create(u.prototype);return Vn(s,"_invoke",function(e,r,i){var o,a,u,s=0,c=i||[],d=!1,f={p:0,n:0,v:n,a:v,f:v.bind(n,4),d:function(t,e){return o=t,a=0,u=n,f.n=e,l}};function v(e,r){for(a=e,u=r,t=0;!d&&s&&!i&&t<c.length;t++){var i,o=c[t],v=f.p,m=o[2];e>3?(i=m===r)&&(u=o[(a=o[4])?5:(a=3,3)],o[4]=o[5]=n):o[0]<=v&&((i=e<2&&v<o[1])?(a=0,f.v=r,f.n=o[1]):v<m&&(i=e<3||o[0]>r||r>m)&&(o[4]=e,o[5]=r,f.n=m,a=0))}if(i||e>1)return l;throw d=!0,r}return function(i,c,m){if(s>1)throw TypeError("Generator is already running");for(d&&1===c&&v(c,m),a=c,u=m;(t=a<2?n:u)||!d;){o||(a?a<3?(a>1&&(f.n=-1),v(a,u)):f.n=u:f.v=u);try{if(s=2,o){if(a||(i="next"),t=o[i]){if(!(t=t.call(o,u)))throw TypeError("iterator result is not an object");if(!t.done)return t;u=t.value,a<2&&(a=0)}else 1===a&&(t=o.return)&&t.call(o),a<2&&(u=TypeError("The iterator does not provide a '"+i+"' method"),a=1);o=n}else if((t=(d=f.n<0)?u:e.call(r,f))!==l)break}catch(t){o=n,a=1,u=t}finally{s=1}}return{value:t,done:d}}}(e,i,o),!0),s}var l={};function a(){}function u(){}function s(){}t=Object.getPrototypeOf;var c=[][r]?t(t([][r]())):(Vn(t={},r,(function(){return this})),t),d=s.prototype=a.prototype=Object.create(c);function f(n){return Object.setPrototypeOf?Object.setPrototypeOf(n,s):(n.__proto__=s,Vn(n,i,"GeneratorFunction")),n.prototype=Object.create(d),n}return u.prototype=s,Vn(d,"constructor",s),Vn(s,"constructor",u),u.displayName="GeneratorFunction",Vn(s,i,"GeneratorFunction"),Vn(d),Vn(d,i,"Generator"),Vn(d,r,(function(){return this})),Vn(d,"toString",(function(){return"[object Generator]"})),(Pn=function(){return{w:o,m:f}})()}function Vn(n,t,e,r){var i=Object.defineProperty;try{i({},"",{})}catch(n){i=0}Vn=function(n,t,e,r){if(t)i?i(n,t,{value:e,enumerable:!r,configurable:!r,writable:!r}):n[t]=e;else{var o=function(t,e){Vn(n,t,(function(n){return this._invoke(t,e,n)}))};o("next",0),o("throw",1),o("return",2)}},Vn(n,t,e,r)}function In(n,t){this.v=n,this.k=t}function En(n,t,e,r,i,o,l){try{var a=n[o](l),u=a.value}catch(n){return void e(n)}a.done?t(u):Promise.resolve(u).then(r,i)}function Fn(n){return function(){var t=this,e=arguments;return new Promise((function(r,i){var o=n.apply(t,e);function l(n){En(o,r,i,l,a,"next",n)}function a(n){En(o,r,i,l,a,"throw",n)}l(void 0)}))}}function Tn(n,t){return function(n){if(Array.isArray(n))return n}(n)||function(n,t){var e=null==n?null:"undefined"!=typeof Symbol&&n[Symbol.iterator]||n["@@iterator"];if(null!=e){var r,i,o,l,a=[],u=!0,s=!1;try{if(o=(e=e.call(n)).next,0===t){if(Object(e)!==e)return;u=!1}else for(;!(u=(r=o.call(e)).done)&&(a.push(r.value),a.length!==t);u=!0);}catch(n){s=!0,i=n}finally{try{if(!u&&null!=e.return&&(l=e.return(),Object(l)!==l))return}finally{if(s)throw i}}return a}}(n,t)||function(n,t){if(n){if("string"==typeof n)return Dn(n,t);var e={}.toString.call(n).slice(8,-1);return"Object"===e&&n.constructor&&(e=n.constructor.name),"Map"===e||"Set"===e?Array.from(n):"Arguments"===e||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(e)?Dn(n,t):void 0}}(n,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Dn(n,t){(null==t||t>n.length)&&(t=n.length);for(var e=0,r=Array(t);e<t;e++)r[e]=n[e];return r}const Gn=function(){var n,t,e,r,o,S,M,N,O,A,k,R,P,V,I,E,F,T,D,G,L,q,B,W,U,z,H,$,Y,Z,J,K,Q,X,nn,tn,en,rn,on,ln,an,un,sn,cn,dn,fn;(0,d.A)("mrm-admin","contacts"),(0,f.A)("Segments - Mail Mint");var vn=localStorage.getItem("malimint-contacts-per-page"),mn=(0,a.Zp)(),pn=(0,a.zy)(),hn=Tn((0,l.useState)(!1),2),yn=hn[0],bn=hn[1],xn=(0,a.g)(),jn=Tn((0,l.useState)(""),2),Mn=jn[0],Cn=jn[1],On=Tn((0,l.useState)(""),2),An=On[0],kn=On[1],Rn=Tn((0,l.useState)(""),2),Pn=Rn[0],Vn=Rn[1],In=Tn((0,l.useState)({}),2),En=In[0],Dn=In[1],Gn=Tn((0,l.useState)([]),2),Ln=Gn[0],qn=Gn[1],Bn=Tn((0,l.useState)(!1),2),Wn=Bn[0],Un=Bn[1],zn=Tn((0,l.useState)([]),2),Hn=zn[0],$n=zn[1],Yn=Tn((0,l.useState)(!1),2),Zn=Yn[0],Jn=Yn[1],Kn=[{label:null===(n=window)||void 0===n||null===(n=n.MRM_Vars)||void 0===n||null===(n=n.mint_trans)||void 0===n?void 0:n.Contains,value:"contains"},{label:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.DoesNotContain,value:"does_not_contain"},{label:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.StartsWith,value:"starts_with"},{label:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.EndsWith,value:"ends_with"},{label:null===(o=window)||void 0===o||null===(o=o.MRM_Vars)||void 0===o||null===(o=o.mint_trans)||void 0===o?void 0:o.DoesNotStartWith,value:"does_not_start_with"},{label:null===(S=window)||void 0===S||null===(S=S.MRM_Vars)||void 0===S||null===(S=S.mint_trans)||void 0===S?void 0:S.DoesNotEndWith,value:"does_not_end_with"},{label:null===(M=window)||void 0===M||null===(M=M.MRM_Vars)||void 0===M||null===(M=M.mint_trans)||void 0===M?void 0:M.IsEqualTo,value:"are_exactly_in"},{label:null===(N=window)||void 0===N||null===(N=N.MRM_Vars)||void 0===N||null===(N=N.mint_trans)||void 0===N?void 0:N.IsNotEqualTo,value:"are_not_in"}],Qn=[{label:null===(O=window)||void 0===O||null===(O=O.MRM_Vars)||void 0===O||null===(O=O.mint_trans)||void 0===O?void 0:O.Before,value:"before"},{label:null===(A=window)||void 0===A||null===(A=A.MRM_Vars)||void 0===A||null===(A=A.mint_trans)||void 0===A?void 0:A.After,value:"after"},{label:null===(k=window)||void 0===k||null===(k=k.MRM_Vars)||void 0===k||null===(k=k.mint_trans)||void 0===k?void 0:k.InTheDate,value:"in_the_date"},{label:null===(R=window)||void 0===R||null===(R=R.MRM_Vars)||void 0===R||null===(R=R.mint_trans)||void 0===R?void 0:R.Between,value:"in_the_between_dates"}],Xn=[{label:null===(P=window)||void 0===P||null===(P=P.MRM_Vars)||void 0===P||null===(P=P.mint_trans)||void 0===P?void 0:P.IncludedIn,value:"wc_select_field_includes_in"},{label:null===(V=window)||void 0===V||null===(V=V.MRM_Vars)||void 0===V||null===(V=V.mint_trans)||void 0===V?void 0:V.NotIncludedIn,value:"wc_select_field_does_not_include_in"}],nt=[{label:null===(I=window)||void 0===I||null===(I=I.MRM_Vars)||void 0===I||null===(I=I.mint_trans)||void 0===I?void 0:I.GreaterThan,value:"greater_than"},{label:null===(E=window)||void 0===E||null===(E=E.MRM_Vars)||void 0===E||null===(E=E.mint_trans)||void 0===E?void 0:E.LessThan,value:"less_than"},{label:null===(F=window)||void 0===F||null===(F=F.MRM_Vars)||void 0===F||null===(F=F.mint_trans)||void 0===F?void 0:F.Equal,value:"equal"},{label:null===(T=window)||void 0===T||null===(T=T.MRM_Vars)||void 0===T||null===(T=T.mint_trans)||void 0===T?void 0:T.DoesNotEqual,value:"does_not_equal"}],tt=[{label:null===(D=window)||void 0===D||null===(D=D.MRM_Vars)||void 0===D||null===(D=D.mint_trans)||void 0===D?void 0:D.IncludedIn,value:"custom_field_includes_in"},{label:null===(G=window)||void 0===G||null===(G=G.MRM_Vars)||void 0===G||null===(G=G.mint_trans)||void 0===G?void 0:G.NotIncludedIn,value:"custom_field_does_not_include_in"}],et=[{label:null===(L=window)||void 0===L||null===(L=L.MRM_Vars)||void 0===L||null===(L=L.mint_trans)||void 0===L?void 0:L.Yes,value:"is_exist"},{label:null===(q=window)||void 0===q||null===(q=q.MRM_Vars)||void 0===q||null===(q=q.mint_trans)||void 0===q?void 0:q.No,value:"is_not_exist"}],rt=Tn((0,l.useState)([{label:null===(B=window)||void 0===B||null===(B=B.MRM_Vars)||void 0===B||null===(B=B.mint_trans)||void 0===B?void 0:B.IsEqualTo,value:"email_subscription_status_is_equal"},{label:null===(W=window)||void 0===W||null===(W=W.MRM_Vars)||void 0===W||null===(W=W.mint_trans)||void 0===W?void 0:W.DoesNotEqualTo,value:"email_subscription_status_is_not_equal"}]),2),it=rt[0],ot=(rt[1],Tn((0,l.useState)([{label:null===(U=window)||void 0===U||null===(U=U.MRM_Vars)||void 0===U||null===(U=U.mint_trans)||void 0===U?void 0:U.IncludedIn,value:"groups_includes_in"},{label:null===(z=window)||void 0===z||null===(z=z.MRM_Vars)||void 0===z||null===(z=z.mint_trans)||void 0===z?void 0:z.NotIncludedIn,value:"groups_does_not_include_in"}]),2)),lt=ot[0],at=(ot[1],Tn((0,l.useState)([{label:null===(H=window)||void 0===H||null===(H=H.MRM_Vars)||void 0===H||null===(H=H.mint_trans)||void 0===H?void 0:H.Pending,value:"pending"},{label:null===($=window)||void 0===$||null===($=$.MRM_Vars)||void 0===$||null===($=$.mint_trans)||void 0===$?void 0:$.Subscribed,value:"subscribed"},{label:null===(Y=window)||void 0===Y||null===(Y=Y.MRM_Vars)||void 0===Y||null===(Y=Y.mint_trans)||void 0===Y?void 0:Y.Unsubscribed,value:"unsubscribed"},{label:null===(Z=window)||void 0===Z||null===(Z=Z.MRM_Vars)||void 0===Z||null===(Z=Z.mint_trans)||void 0===Z?void 0:Z.Bounced,value:"Bounced"},{label:null===(J=window)||void 0===J||null===(J=J.MRM_Vars)||void 0===J||null===(J=J.mint_trans)||void 0===J?void 0:J.Complained,value:"Complained"}]),2)),ut=at[0],st=(at[1],Tn((0,l.useState)([{field_type:"input-text",field:{label:null===(K=window)||void 0===K||null===(K=K.MRM_Vars)||void 0===K||null===(K=K.mint_trans)||void 0===K?void 0:K.SelectFieldType,type:"",value:""},action_condition:{label:null===(Q=window)||void 0===Q||null===(Q=Q.MRM_Vars)||void 0===Q||null===(Q=Q.mint_trans)||void 0===Q?void 0:Q.SelectCondition,type:"",value:""},action_values:{label:null===(X=window)||void 0===X||null===(X=X.MRM_Vars)||void 0===X||null===(X=X.mint_trans)||void 0===X?void 0:X.SelectAction,type:"",value:[]},lists:{list:[],selected:[]},tags:{tag:[],selected:[]},condition_logic:"AND"}]),2)),ct=st[0],dt=st[1],ft=Tn((0,l.useState)(!1),2),vt=ft[0],mt=ft[1],pt=Tn((0,l.useState)("success"),2),ht=pt[0],yt=pt[1],bt=Tn((0,l.useState)(""),2),wt=bt[0],_t=bt[1],gt=Tn((0,l.useState)(!1),2),xt=gt[0],jt=gt[1],St=Tn((0,l.useState)([]),2),Mt=St[0],Nt=(St[1],Tn((0,l.useState)([]),2)),Ct=Nt[0],Ot=(Nt[1],Tn((0,l.useState)(1),2)),At=Ot[0],kt=Ot[1],Rt=Tn((0,l.useState)(null!==vn?vn:10),2),Pt=Rt[0],Vt=Rt[1],It=Tn((0,l.useState)(0),2),Et=It[0],Ft=It[1],Tt=Tn((0,l.useState)(0),2),Dt=Tt[0],Gt=Tt[1],Lt=Tn((0,l.useState)(!0),2),qt=Lt[0],Bt=Lt[1],Wt=Tn((0,l.useState)(!1),2),Ut=Wt[0],zt=Wt[1],Ht=Tn((0,l.useState)(!1),2),$t=Ht[0],Yt=Ht[1],Zt=Tn((0,l.useState)(!1),2),Jt=Zt[0],Kt=Zt[1],Qt=Tn((0,l.useState)([]),2),Xt=Qt[0],ne=Qt[1],te=Tn((0,l.useState)([]),2),ee=te[0],re=te[1],ie=function(n,t){yt(n),mt(!0),_t(t),(0,x.bd)(!1,mt)},oe=function(n){de?(0,g.cN)(ct).then((function(n){var t;Un(!0),Object.keys(n).length>0?(0,g._v)({filters:n},0,At,Pt).then((function(n){if(200!==n.code)return Promise.reject(n);qn(n.data.data),Gt(n.data.total_pages),Ft(n.data.total_count),bn(!0),zt(!1),Un(!1)})).catch((function(n){bn(!1),Un(!1),ie("warning",n.message)})):(ie("warning",null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.ConditionWarningMsg),Un(!1))})):Kt(!0)},le=function(){var n=Fn(Nn().mark((function n(){return Nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:mn("/segments");case 2:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ae=function(){var n=Fn(Nn().mark((function n(){return Nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(void 0===Mn){n.next=3;break}return n.next=3,(0,g.Ow)(Mn).then((function(n){var t,e,r;200===n.code?(jt(!0),kn(n.data.segment_data.title),Vn(n.data.segment_data.filters.description),dt(n.data.segment_data.filters.filters),jt(!1)):dt([{field_type:"input-text",field:{label:null===(t=window)||void 0===t||null===(t=t.MRM_Vars)||void 0===t||null===(t=t.mint_trans)||void 0===t?void 0:t.SelectFieldType,type:"",value:""},action_condition:{label:null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.SelectCondition,type:"",value:""},action_values:{label:null===(r=window)||void 0===r||null===(r=r.MRM_Vars)||void 0===r||null===(r=r.mint_trans)||void 0===r?void 0:r.SelectAction,type:"",value:[]},condition_logic:"AND"}])}));case 3:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ue=function(){var n=Fn(Nn().mark((function n(){return Nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:(0,g.LL)().then((function(n){Jn(!1),$n(null==n?void 0:n.data)}));case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),se=function(){var n=Fn(Nn().mark((function n(){var t;return Nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(de){Yt(!0),t={title:An,data:{description:Pn,filters:ct}};try{(0,g.cN)(ct).then((function(n){var e;Object.keys(n).length>0?(0,g.Dv)(t,Mn).then((function(n){Yt(!1),void 0!==n.code&&201===n.code?(yt("success"),mt(!0),_t(null==n?void 0:n.message)):(yt("warning"),mt(!0),_t(null==n?void 0:n.message))})):(Yt(!1),ie("warning",null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.ConditionWarningMsg))})).then((function(){yn&&(Un(!0),Un(!0),kt(1),Vt(10),Bt(!qt),Un(!1))}))}catch(n){yt("warning"),mt(!0),_t(n.message)}finally{(0,x.bd)(!1,mt)}}else Kt(!0);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),ce=function(){var n=Fn(Nn().mark((function n(){var t;return Nn().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:de?(Yt(!0),t={title:An,data:{description:Pn,filters:ct}},(0,g.cN)(ct).then((function(n){var e;Object.keys(n).length>0?(0,g.Dv)(t).then((function(n){Yt(!1),bn(!1),201===n.code?(mn("../segments/edit/".concat(null==n?void 0:n.data),{state:{status:"segment-created",message:null==n?void 0:n.message}}),Bt(!qt),jt(!1),Dn(Sn(Sn({},En),{},{title:""}))):Dn(Sn(Sn({},En),{},{title:null==n?void 0:n.message}))})):(ie("warning",null===(e=window)||void 0===e||null===(e=e.MRM_Vars)||void 0===e||null===(e=e.mint_trans)||void 0===e?void 0:e.ConditionWarningMsg),Yt(!1))}))):Kt(!0);case 1:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();(0,l.useEffect)((function(){var n=!0;Jn(!0),Mn&&jt(!0);var t=function(){var t=Fn(Nn().mark((function t(){return Nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:if(!Mn){t.next=5;break}return t.next=5,ae();case 5:return t.next=7,ue();case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return t(),function(){n=!1}}),[Mn]),(0,l.useEffect)((function(){var n=!0;return yn&&n&&(Un(!0),oe(),Un(!1)),function(){n=!1}}),[At,Pt,qt]),(0,l.useEffect)((function(){var n,t,e=!0;return"segment-created"===(null===(n=pn.state)||void 0===n?void 0:n.status)&&e&&(yt("success"),mt(!0),_t(null===(t=pn.state)||void 0===t?void 0:t.message)),(0,x.bd)(!1,mt),function(){e=!1}}),[]),(0,l.useEffect)((function(){var n=!0;function t(){return(t=Fn(Nn().mark((function t(){var e;return Nn().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e={method:"GET"},i()(Sn({path:"mrm/v1/columns"},e)).then((function(n){return n})).then((function(t){n&&200==t.code&&(ne(t.data.list_columns),re(t.data.stored_columns))}));case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return function(){t.apply(this,arguments)}(),function(){n=!1}}),[qt]);var de=window.MRM_Vars.is_mailmint_pro_license_active;return(0,l.useEffect)((function(){Cn(null==xn?void 0:xn.id)}),[null==xn?void 0:xn.id]),(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)("div",{className:"add-segment-page",children:(0,C.jsxs)("div",{className:"mintmrm-container",children:[(0,C.jsx)(u.N_,{to:"/segments",children:(0,C.jsxs)("button",{className:"backto-segment",children:[(0,C.jsx)(v.A,{}),null===(nn=window)||void 0===nn||null===(nn=nn.MRM_Vars)||void 0===nn||null===(nn=nn.mint_trans)||void 0===nn?void 0:nn.Back]})}),(0,C.jsx)("h4",{className:"add-segment-title",children:Mn?null===(tn=window)||void 0===tn||null===(tn=tn.MRM_Vars)||void 0===tn||null===(tn=tn.mint_trans)||void 0===tn?void 0:tn.EditSegment:null===(en=window)||void 0===en||null===(en=en.MRM_Vars)||void 0===en||null===(en=en.mint_trans)||void 0===en?void 0:en.AddSegment}),xt?(0,C.jsx)(h.A,{type:"table"}):(0,C.jsxs)("div",{className:"segment-wrapper",children:[(0,C.jsxs)("div",{className:"segment-header",children:[(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsxs)("label",{htmlFor:"",children:[null===(rn=window)||void 0===rn||null===(rn=rn.MRM_Vars)||void 0===rn||null===(rn=rn.mint_trans)||void 0===rn?void 0:rn.SegmentName," ",(0,C.jsx)("span",{children:"*"})]}),(0,C.jsx)("input",{type:"text",name:"segment_name",placeholder:null===(on=window)||void 0===on||null===(on=on.MRM_Vars)||void 0===on||null===(on=on.mint_trans)||void 0===on?void 0:on.EnterName,autoComplete:"off",value:An,onChange:function(n){return kn(n.target.value)}}),(0,C.jsx)("p",{className:null!=En&&En.title?"error-message show":"error-message",children:null==En?void 0:En.title})]}),(0,C.jsxs)("div",{className:"form-group",children:[(0,C.jsx)("label",{htmlFor:"",children:"Segment Description"}),(0,C.jsx)("input",{type:"text",name:"segment_description",placeholder:null===(ln=window)||void 0===ln||null===(ln=ln.MRM_Vars)||void 0===ln||null===(ln=ln.mint_trans)||void 0===ln?void 0:ln.EnterDescription,autoComplete:"off",value:Pn,onChange:function(n){return Vn(n.target.value)}})]})]}),(0,C.jsx)("div",{className:"segment-condition-wrapper",children:ct.map((function(n,t){return(0,C.jsx)(wn,{index:t,fields:Hn,textFieldCondition:Kn,numberFieldCondition:nt,dateFieldCondition:Qn,customFieldCondition:tt,booleanFieldCondition:et,segmentConditions:ct,statusFieldCondition:it,listsTagsFieldCondition:lt,wcSelectFieldCondition:Xn,statusFieldAction:ut,conditionsLength:ct.length,segmentCondition:n,setSegmentConditions:dt,lists:Mt,tags:Ct,loader:Zn,setIsPro:Kt},t)}))}),(0,C.jsxs)("button",{className:"preview-segment",title:"Click to Preview Contacts",onClick:oe,children:[null===(an=window)||void 0===an||null===(an=an.MRM_Vars)||void 0===an||null===(an=an.mint_trans)||void 0===an?void 0:an.PreviewSegment,Wn?(0,C.jsx)(gn.A,{}):(0,C.jsx)(m.A,{})]})]}),yn&&Wn&&(0,C.jsx)(h.A,{type:"table"}),yn&&!Wn&&(0,C.jsxs)("div",{className:"preview-contact-wrapper contact-list-area",children:[(0,C.jsxs)("div",{className:"contact-list-header",children:[(0,C.jsxs)("h4",{children:[Et," ",1<Et?"Contacts":"Contact"]}),(0,C.jsx)(c.A,{handleRefresh:function(){Bt((function(n){return!n})),zt(!0)},refreshToggle:Ut})]}),(0,C.jsx)("div",{className:"preview-contact-list",children:(0,C.jsx)("div",{className:"contact-list-area",children:(0,C.jsx)("div",{className:"contact-list-body",children:(0,C.jsx)("div",{className:"contact-list-table",children:(0,C.jsxs)("table",{children:[(0,C.jsx)("thead",{children:(0,C.jsxs)("tr",{children:[(0,C.jsx)("th",{className:"email",children:null===(un=Xt.find((function(n){return"email"===n.id})))||void 0===un?void 0:un.value}),null==ee?void 0:ee.map((function(n){var t=Xt.find((function(t){return t.id===n.id}));if(t)return(0,C.jsx)("th",{className:t.id,children:t.value},t.id)}))]})}),(0,C.jsxs)("tbody",{children:[!(null!=Ln&&Ln.length)&&(0,C.jsx)("tr",{children:(0,C.jsxs)("td",{className:"no-contact",colSpan:"15",style:{textAlign:"center"},children:[(0,C.jsx)(p.A,{}),null===(sn=window)||void 0===sn||null===(sn=sn.MRM_Vars)||void 0===sn||null===(sn=sn.mint_trans)||void 0===sn?void 0:sn.NoContactMsg]})}),Ln.map((function(n,t){return(0,C.jsx)(j.A,{contact:n,toggleRefresh:"",currentActive:0,setCurrentActive:0,handleSelectOne:function(){},selected:[],columns:ee,isEditable:!1,listColumns:Xt},t)}))]})]})})})})}),(0,C.jsx)(y.A,{currentPage:At,pageSize:Pt,onPageChange:kt,totalCount:Et,totalPages:Dt,setPerPage:Vt})]}),(0,C.jsxs)("div",{className:"save-btn-area",children:[(0,C.jsxs)("button",{className:"mintmrm-btn cancel",onClick:le,children:[" ",null===(cn=window)||void 0===cn||null===(cn=cn.MRM_Vars)||void 0===cn||null===(cn=cn.mint_trans)||void 0===cn?void 0:cn.Cancel," "]}),(0,C.jsxs)("button",{className:"mintmrm-btn save",onClick:Mn?se:ce,disabled:!!$t,children:[Mn?null===(dn=window)||void 0===dn||null===(dn=dn.MRM_Vars)||void 0===dn||null===(dn=dn.mint_trans)||void 0===dn?void 0:dn.Update:null===(fn=window)||void 0===fn||null===(fn=fn.MRM_Vars)||void 0===fn||null===(fn=fn.mint_trans)||void 0===fn?void 0:fn.Save,$t&&(0,C.jsx)("span",{className:"mintmrm-loader show"}),!de&&(0,C.jsx)("span",{className:"pro-tag-with-icon",children:(0,C.jsx)(_n.A,{width:"18",height:"18"})})]})]})]})}),Jt&&(0,C.jsx)("div",{className:"mintmrm-container",children:(0,C.jsx)(_.A,{setIsPro:Kt,proLink:w.q9})}),vt&&(0,C.jsx)(b.A,{setShowNotification:mt,message:wt,notificationType:ht,setNotificationType:yt}),(0,C.jsx)(s.A,{docLink:"https://getwpfunnels.com/docs/mail-mint-contacts/create-segment/",showVideo:"true",videoLink:"https://www.youtube.com/embed/p78-hOd8M1k"})]})}},6005:(n,t,e)=>{e.d(t,{Ay:()=>a});var r=e(2836),i=e(8168),o=e(1609),l=e(2646),a=(e(5815),e(5795),e(7003),(0,o.forwardRef)((function(n,t){var e=(0,r.u)(n);return o.createElement(l.S,(0,i.A)({ref:t},e))})))}}]);
//# sourceMappingURL=edit-segment.min.js.map?ver=1750931396707000