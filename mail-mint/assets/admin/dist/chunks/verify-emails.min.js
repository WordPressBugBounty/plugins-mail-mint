/*! For license information please see verify-emails.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[2058],{49141:(t,e,n)=>{n.d(e,{A:()=>c});var r=n(27723),i=n(47767),o=n(29012),a=n(74848);const c=React.memo((function(){var t=(0,i.Zp)();return(0,a.jsx)("div",{className:"mintmrm-header",children:(0,a.jsx)("div",{className:"contact-details-breadcrumb export-contact-breadcrum",children:(0,a.jsx)("div",{className:"export-cotainer",children:(0,a.jsx)("div",{className:"mintmrm-container",children:(0,a.jsx)("div",{className:"back-button",children:(0,a.jsxs)("button",{onClick:function(){t(-1)},children:[(0,a.jsx)(o.A,{})," ",(0,r.__)("Back","mrm")]})})})})})})}))},56800:(t,e,n)=>{n.r(e),n.d(e,{default:()=>H});var r=n(51609),i=n(48259),o=n(42702),a=n(14163),c=n(95147),s=n(42953),u=n(36492),l=n(40642),f=n(79786),d=n(17983),p=n(50400),v=n(87450),m=n(36704),h=n(64595),y=n(52629),x=n(49141),g=n(27723),b=n(1455),j=n.n(b),w=n(42017),S=n(29214),A=n(91931),k=n(99711),_=n(63552),C=n(47767),N=n(29480),T=n(74848);function O(t){return O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},O(t)}function P(){var t=G(),e=t.m(P),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var i={throw:1,return:2,break:3,continue:3};function o(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,i[t],e)},delegateYield:function(t,i,o){return e.resultName=i,n(r.d,E(t),o)},finish:function(t){return n(r.f,t)}},n=function(t,n,i){r.p=e.prev,r.n=e.next;try{return t(n,i)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(P=function(){return{wrap:function(e,n,r,i){return t.w(o(e),n,r,i&&i.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new B(t,e)},AsyncIterator:V,async:function(t,e,n,i,a){return(r(e)?z:L)(o(t),e,n,i,a)},keys:I,values:E}})()}function E(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(O(t)+" is not iterable")}function I(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function L(t,e,n,r,i){var o=z(t,e,n,r,i);return o.next().then((function(t){return t.done?t.value:o.next()}))}function z(t,e,n,r,i){return new V(G().w(t,e,n,r),i||Promise)}function V(t,e){function n(r,i,o,a){try{var c=t[r](i),s=c.value;return s instanceof B?e.resolve(s.v).then((function(t){n("next",t,o,a)}),(function(t){n("throw",t,o,a)})):e.resolve(s).then((function(t){c.value=t,o(c)}),(function(t){return n("throw",t,o,a)}))}catch(t){a(t)}}var r;this.next||(F(V.prototype),F(V.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),F(this,"_invoke",(function(t,i,o){function a(){return new e((function(e,r){n(t,o,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function G(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",i=n.toStringTag||"@@toStringTag";function o(n,r,i,o){var s=r&&r.prototype instanceof c?r:c,u=Object.create(s.prototype);return F(u,"_invoke",function(n,r,i){var o,c,s,u=0,l=i||[],f=!1,d={p:0,n:0,v:t,a:p,f:p.bind(t,4),d:function(e,n){return o=e,c=0,s=t,d.n=n,a}};function p(n,r){for(c=n,s=r,e=0;!f&&u&&!i&&e<l.length;e++){var i,o=l[e],p=d.p,v=o[2];n>3?(i=v===r)&&(s=o[(c=o[4])?5:(c=3,3)],o[4]=o[5]=t):o[0]<=p&&((i=n<2&&p<o[1])?(c=0,d.v=r,d.n=o[1]):p<v&&(i=n<3||o[0]>r||r>v)&&(o[4]=n,o[5]=r,d.n=v,c=0))}if(i||n>1)return a;throw f=!0,r}return function(i,l,v){if(u>1)throw TypeError("Generator is already running");for(f&&1===l&&p(l,v),c=l,s=v;(e=c<2?t:s)||!f;){o||(c?c<3?(c>1&&(d.n=-1),p(c,s)):d.n=s:d.v=s);try{if(u=2,o){if(c||(i="next"),e=o[i]){if(!(e=e.call(o,s)))throw TypeError("iterator result is not an object");if(!e.done)return e;s=e.value,c<2&&(c=0)}else 1===c&&(e=o.return)&&e.call(o),c<2&&(s=TypeError("The iterator does not provide a '"+i+"' method"),c=1);o=t}else if((e=(f=d.n<0)?s:n.call(r,d))!==a)break}catch(e){o=t,c=1,s=e}finally{u=1}}return{value:e,done:f}}}(n,i,o),!0),u}var a={};function c(){}function s(){}function u(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(F(e={},r,(function(){return this})),e),f=u.prototype=c.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,F(t,i,"GeneratorFunction")),t.prototype=Object.create(f),t}return s.prototype=u,F(f,"constructor",u),F(u,"constructor",s),s.displayName="GeneratorFunction",F(u,i,"GeneratorFunction"),F(f),F(f,i,"Generator"),F(f,r,(function(){return this})),F(f,"toString",(function(){return"[object Generator]"})),(G=function(){return{w:o,m:d}})()}function F(t,e,n,r){var i=Object.defineProperty;try{i({},"",{})}catch(t){i=0}F=function(t,e,n,r){if(e)i?i(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var o=function(e,n){F(t,e,(function(t){return this._invoke(e,n,t)}))};o("next",0),o("throw",1),o("return",2)}},F(t,e,n,r)}function B(t,e){this.v=t,this.k=e}function M(t,e,n,r,i,o,a){try{var c=t[o](a),s=c.value}catch(t){return void n(t)}c.done?e(s):Promise.resolve(s).then(r,i)}function Z(t){return function(){var e=this,n=arguments;return new Promise((function(r,i){var o=t.apply(e,n);function a(t){M(o,r,i,a,c,"next",t)}function c(t){M(o,r,i,a,c,"throw",t)}a(void 0)}))}}function R(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,i,o,a,c=[],s=!0,u=!1;try{if(o=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;s=!1}else for(;!(s=(r=o.call(n)).done)&&(c.push(r.value),c.length!==e);s=!0);}catch(t){u=!0,i=t}finally{try{if(!s&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(u)throw i}}return c}}(t,e)||function(t,e){if(t){if("string"==typeof t)return J(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?J(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function J(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}var U=i.A.Title,Y=i.A.Text,q=i.A.Paragraph;function H(){var t=(0,C.Zp)(),e=R((0,r.useState)("all"),2),n=e[0],i=e[1],b=R((0,r.useState)(null),2),O=b[0],E=b[1],I=R((0,r.useState)(!0),2),L=I[0],z=I[1],V=R((0,r.useState)(!1),2),G=V[0],F=V[1],B=R((0,r.useState)(!1),2),M=B[0],J=B[1],H=R((0,r.useState)(0),2),Q=H[0],$=H[1],D=R((0,r.useState)([]),2),K=D[0],W=D[1],X=R((0,r.useState)([]),2),tt=X[0],et=X[1],nt=R((0,r.useState)([]),2),rt=nt[0],it=nt[1],ot=R((0,r.useState)(0),2),at=ot[0],ct=ot[1],st=R((0,r.useState)(""),2),ut=st[0],lt=st[1],ft=R((0,r.useState)("success"),2),dt=ft[0],pt=ft[1],vt=R((0,r.useState)(!1),2),mt=vt[0],ht=vt[1],yt=R((0,r.useState)(!1),2),xt=yt[0],gt=yt[1],bt=R((0,r.useState)(0),2),jt=bt[0],wt=bt[1],St=R((0,r.useState)("Verifying Emails"),2),At=St[0],kt=St[1],_t=R((0,r.useState)(100),2),Ct=_t[0],Nt=(_t[1],R((0,r.useState)(0),2)),Tt=(Nt[0],Nt[1]),Ot=R((0,r.useState)(0),2),Pt=(Ot[0],Ot[1]),Et=R((0,r.useState)(0),2),It=(Et[0],Et[1]),Lt=function(){if("all"===n)return at;if("list"===n||"tag"===n||"segment"===n){if(!O)return 0;var t=("list"===n?K:"tag"===n?tt:rt).find((function(t){return t.id===O}));return t?t.contactCount:0}return 0}(),zt=Lt,Vt=zt>Q,Gt=n&&("all"===n||O),Ft=Math.ceil(Lt/Ct),Bt=[{id:"all",title:"All Contacts",description:"Verify all contacts",icon:(0,T.jsx)(v.A,{}),count:"".concat(at.toLocaleString()," contacts")},{id:"list",title:"By List",description:"Select specific contact lists",icon:(0,T.jsx)(m.A,{}),count:"".concat(K.length," lists available")},{id:"tag",title:"By Tag",description:"Filter contacts by tags",icon:(0,T.jsx)(h.A,{}),count:"".concat(tt.length," tags available")}];(0,r.useEffect)((function(){Promise.all([Mt(),Zt(),Rt(),Jt()]).then((function(){z(!1)}))}),[]),(0,r.useEffect)((function(){E(null)}),[n]);var Mt=function(){var t=Z(P().mark((function t(){var e,n;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j()({path:"mrm/v1/integration/zerobounce/credits",method:"GET"});case 2:(e=t.sent)&&"success"===(null==e?void 0:e.status)?($((null==e||null===(n=e.data)||void 0===n?void 0:n.credits)||0),z(!1)):z(!1);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Zt=function(){var t=Z(P().mark((function t(){var e;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,A.Mr)();case 3:(e=t.sent)&&e.data&&(W(e.data.map((function(t){return{id:t.id,value:t.id,label:t.title,contactCount:parseInt(t.total_contacts||0)}}))),e.count_groups&&e.count_groups.contacts&&ct(e.count_groups.contacts)),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error fetching lists:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Rt=function(){var t=Z(P().mark((function t(){var e;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,k.Q2)();case 3:(e=t.sent)&&e.data&&et(e.data.map((function(t){return{id:t.id,value:t.id,label:t.title,contactCount:parseInt(t.total_contacts||0)}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error fetching tags:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Jt=function(){var t=Z(P().mark((function t(){var e;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,(0,_.Ln)();case 3:(e=t.sent)&&e.data&&it(e.data.data.map((function(t){return{id:t.id,value:t.id,label:t.title,contactCount:parseInt(t.total_contacts||0)}}))),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error("Error fetching segments:",t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}(),Ut=function(){var t=Z(P().mark((function t(e,n){var r;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j()({path:n,method:"POST",data:e});case 3:return r=t.sent,t.abrupt("return",r);case 7:return t.prev=7,t.t0=t.catch(0),t.abrupt("return",{code:500,message:t.t0.message||"Verification process failed",data:{verified:0,skipped:0,total:0,offset:e.offset}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e,n){return t.apply(this,arguments)}}(),Yt=function(){var t=Z(P().mark((function t(){var e,r,i,o,a,c,s,u,l,f,d,p;return P().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:ht(!0),gt(!0),wt(0),kt("Verifying Emails"),Tt(0),Pt(0),It(0),i={scope:n,itemId:O,batchSize:Ct,offset:0},o=0,a=0,s=0;case 10:if(!(s<Ft)){t.next=25;break}return t.next=14,Ut(i,"mrm/v1/integration/zerobounce/apply");case 14:if(c=t.sent,"success"===(null===(u=c)||void 0===u?void 0:u.status)){t.next=17;break}return t.abrupt("break",25);case 17:wt((s+1)/Ft*100),i.offset=null===(l=c)||void 0===l||null===(l=l.data)||void 0===l?void 0:l.offset,o+=(null===(f=c)||void 0===f||null===(f=f.data)||void 0===f?void 0:f.total)||0,a+=(null===(d=c)||void 0===d||null===(d=d.data)||void 0===d?void 0:d.invalid)||0,Pt(a);case 22:s++,t.next=10;break;case 25:if("success"!==(null===(e=c)||void 0===e?void 0:e.status)){t.next=35;break}return kt("Verification completed: ".concat(o," emails processed, ").concat(a," invalid.")),pt("success"),lt("Verification completed: ".concat(o," emails processed, ").concat(a," invalid.")),F(!0),Tt(o-a),t.next=33,new Promise((function(t){return setTimeout(t,2e3)}));case 33:t.next=38;break;case 35:pt("error"),F(!0),lt((null===(p=c)||void 0===p?void 0:p.message)||"Verification failed");case 38:ht(!1),"success"!==(null===(r=c)||void 0===r?void 0:r.status)&&gt(!1),setTimeout((function(){F(!1)}),5e3);case 41:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return(0,T.jsxs)("div",{className:"mintmrm-export-page",children:[(0,T.jsx)(x.A,{}),(0,T.jsx)("div",{className:"mintmrm-container",children:(0,T.jsxs)("div",{className:"export-wrapper",children:[(0,T.jsx)("h3",{className:"export-title",children:(0,g.__)("Verify Emails with ZeroBounce","mrm")}),(0,T.jsx)("p",{className:"export-description",children:(0,g.__)("Clean your email list by verifying addresses with ZeroBounce. This helps reduce bounces and improve\n              deliverability.","mrm")}),L?(0,T.jsx)(w.A,{type:"table"}):(0,T.jsxs)(T.Fragment,{children:[(0,T.jsx)("div",{className:"export-section",children:(0,T.jsxs)(o.A,{direction:"vertical",size:"large",style:{width:"100%"},children:[(0,T.jsx)(a.A,{children:(0,T.jsx)(c.A,{gutter:[16,16],children:Bt.map((function(t){var e=n===t.id;return(0,T.jsx)(s.A,{xs:24,md:12,lg:8,children:(0,T.jsx)(a.A,{hoverable:!0,styles:{body:{padding:"12px"}},onClick:function(){i(t.id),E(null)},style:{border:e?"1px solid #573bff":"1px solid #d9d9d9",backgroundColor:e?"#f0f8ff":"#fff",transition:"all 0.3s",height:"100%",position:"relative",boxShadow:e?"0 0 0 1px #1890ff":"none"},children:(0,T.jsxs)(o.A,{direction:"vertical",size:"small",style:{width:"100%"},children:[(0,T.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[(0,T.jsx)("div",{style:{padding:"6px",borderRadius:"4px",backgroundColor:e?"#573bff":"#f0f0f0",color:e?"#fff":"#666",fontSize:"14px",display:"flex",alignItems:"center",justifyContent:"center"},children:t.icon}),(0,T.jsx)(U,{level:5,style:{margin:0,color:e?"#573bff":void 0,fontSize:"15px"},children:t.title})]}),(0,T.jsx)(q,{style:{margin:0,fontSize:"13px",minHeight:"36px"},type:"secondary",children:t.description}),(0,T.jsx)(Y,{type:"secondary",style:{fontSize:"12px",display:"block",marginTop:"4px"},children:t.count})]})})},t.id)}))})}),n&&"all"!==n&&(0,T.jsxs)(a.A,{children:[(0,T.jsxs)(U,{level:4,children:["Select ","list"===n?"a List":"tag"===n?"a Tag":"a Segment"]}),(0,T.jsxs)(q,{type:"secondary",children:["Choose which ","list"===n?"list":"tag"===n?"tag":"segment"," to verify"]}),(0,T.jsx)(u.A,{style:{width:"100%"},placeholder:"Select ".concat("list"===n?"a list":"tag"===n?"a tag":"a segment"),value:O,onChange:function(t){E(t)},optionFilterProp:"children",filterOption:function(t,e){var n;return(null!==(n=null==e?void 0:e.label)&&void 0!==n?n:"").toLowerCase().includes(t.toLowerCase())},options:function(){switch(n){case"list":return K;case"tag":return tt;case"segment":return rt;default:return[]}}()})]}),n&&(0,T.jsxs)(a.A,{children:[(0,T.jsx)(U,{level:4,children:"Credits & Estimation"}),(0,T.jsxs)(c.A,{gutter:[32,16],children:[(0,T.jsx)(s.A,{xs:24,md:8,children:(0,T.jsx)(l.A,{title:"Contacts Selected",value:Lt,formatter:function(t){return null==t?void 0:t.toLocaleString()}})}),(0,T.jsx)(s.A,{xs:24,md:8,children:(0,T.jsx)(l.A,{title:"Credits Required",value:zt,formatter:function(t){return null==t?void 0:t.toLocaleString()},suffix:(0,T.jsx)(Y,{type:"secondary",style:{fontSize:12},children:"(1 per email)"})})}),(0,T.jsx)(s.A,{xs:24,md:8,children:(0,T.jsx)(l.A,{title:"Available Credits",value:Q,formatter:function(t){return null==t?void 0:t.toLocaleString()},valueStyle:{color:Vt?"#ff4d4f":void 0}})})]}),(0,T.jsx)(c.A,{gutter:[32,16],children:Vt&&(0,T.jsx)(f.A,{message:"Credit warning",description:"You have fewer credits than emails to verify. The verification will start with available credits and stop when they run out.",type:"warning",showIcon:!0,icon:(0,T.jsx)(y.A,{}),style:{marginTop:8}})})]}),xt&&(0,T.jsxs)(a.A,{children:[(0,T.jsx)(U,{level:4,children:At}),(0,T.jsx)(d.A,{percent:Math.round(jt),status:100===jt?"success":"active",style:{marginTop:16}})]})]})}),(0,T.jsxs)("div",{className:"export-save-button",children:[(0,T.jsx)("button",{className:"contact-cancel mintmrm-btn outline",onClick:function(){t("/contacts")},children:(0,g.__)("Cancel","mrm")}),(0,T.jsxs)(p.Ay,{className:"contact-save mintmrm-btn",size:"large",disabled:!Gt||mt,loading:mt,onClick:Yt,children:[mt?"Verifying...":"Start Verification",Lt>0&&!mt&&(0,T.jsxs)("span",{style:{marginLeft:8,opacity:.9},children:["(",Lt.toLocaleString()," emails)"]})]})]})]})]})}),G&&(0,T.jsx)(N.A,{setShowNotification:F,message:ut,notificationType:dt,setNotificationType:pt}),M&&(0,T.jsx)("div",{className:"mintmrm-container",children:(0,T.jsx)(UpgradeProModal,{setIsPro:J,proLink:ExportPageLink})}),(0,T.jsx)(S.A,{docLink:"https://getwpfunnels.com/docs/mail-mint-integrations/zerobounce-integration/"})]})}}}]);
//# sourceMappingURL=verify-emails.min.js.map?ver=1758272915765001