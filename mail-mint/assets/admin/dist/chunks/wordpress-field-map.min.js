/*! For license information please see wordpress-field-map.min.js.LICENSE.txt */
"use strict";(globalThis.webpackChunk_mmAdmin_webpackJsonp=globalThis.webpackChunk_mmAdmin_webpackJsonp||[]).push([[2994],{2116:(t,e,n)=>{n.d(e,{A:()=>f});var r=n(1609),o=n(5795),i=n(9870),a=n(5919),s=n(4848);function u(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||function(t,e){if(t){if("string"==typeof t)return c(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?c(t,e):void 0}}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function l(t){var e=t.options,n=u((0,r.useState)(""),2),c=n[0],l=n[1],f=u((0,r.useState)(""),2),d=f[0],m=f[1],p=u((0,r.useState)(!1),2),h=p[0],v=p[1],y=u((0,r.useState)({top:0,left:0,width:0}),2),b=y[0],x=y[1],w=(0,r.useRef)(null),j=(0,r.useRef)(null);(0,a.Yo)(w,v,j);var g=(0,r.useMemo)((function(){return c?e.filter((function(t){return t.title.toLowerCase().includes(c.toLocaleLowerCase())})):e}),[c,e]);return(0,r.useEffect)((function(){null!=t&&t.emailField&&(m(g[0].title),t.handleSelect(g[0].id,g[0].title,t.field_value))}),[]),(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{ref:w,className:"dropdown-container",onClick:function(t){return function(){if(!h&&w.current){var t=w.current.getBoundingClientRect();x({top:t.bottom+window.scrollY,left:t.left+window.scrollX,width:t.width})}v(!h)}()},children:[(0,s.jsx)("button",{type:"button",className:h?"drop-down-button show":"drop-down-button",children:d||"Do not import this field"}),h&&(0,o.createPortal)((0,s.jsxs)("ul",{ref:j,className:h?"import-map mintmrm-dropdown show":"import-map mintmrm-dropdown",style:{position:"absolute",top:b.top,left:b.left,width:b.width,zIndex:1e3,background:"white",border:"1px solid #ccc",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.1)"},children:[(0,s.jsx)("li",{className:"searchbar",children:(0,s.jsxs)("span",{className:"pos-relative",children:[(0,s.jsx)(i.A,{}),(0,s.jsx)("input",{type:"search",name:"column-search",placeholder:"Find or Choose",value:c,onChange:function(t){return l(t.target.value)}})]})}),(0,s.jsx)("li",{className:"list-title",children:"Choose Field"}),(0,s.jsx)("div",{className:"option-section",children:(null==g?void 0:g.length)>0&&g.map((function(e,n){return(0,s.jsx)("li",{className:"single-column",onClick:function(){return function(e,n,r){m(n),v(!1),t.handleSelect(e,n,r)}(e.id,e.title,t.field_value)},children:(0,s.jsx)("div",{className:"mintmrm-checkbox",children:(0,s.jsx)("label",{className:"mrm-custom-select-label",children:e.title})})},n)}))}),0==(null==g?void 0:g.length)?(0,s.jsx)("div",{className:"no-item-found",children:"No field found"}):null]}),document.body)]})})}const f=(0,r.memo)(l)},8544:(t,e,n)=>{n.r(e),n.d(e,{default:()=>I}),n(1455);var r=n(7723),o=n(1609),i=n(7767),a=n(4976),s=n(1931),u=n(9711),c=(n(3961),n(4260),n(5919)),l=n(2017),f=n(4101),d=n(4020),m=n(2092),p=n(8306),h=n(2116),v=n(4848);function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function b(){var t=_(),e=t.m(b),n=(Object.getPrototypeOf?Object.getPrototypeOf(e):e.__proto__).constructor;function r(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===n||"GeneratorFunction"===(e.displayName||e.name))}var o={throw:1,return:2,break:3,continue:3};function i(t){var e,n;return function(r){e||(e={stop:function(){return n(r.a,2)},catch:function(){return r.v},abrupt:function(t,e){return n(r.a,o[t],e)},delegateYield:function(t,o,i){return e.resultName=o,n(r.d,x(t),i)},finish:function(t){return n(r.f,t)}},n=function(t,n,o){r.p=e.prev,r.n=e.next;try{return t(n,o)}finally{e.next=r.n}}),e.resultName&&(e[e.resultName]=r.v,e.resultName=void 0),e.sent=r.v,e.next=r.n;try{return t.call(this,e)}finally{r.p=e.prev,r.n=e.next}}}return(b=function(){return{wrap:function(e,n,r,o){return t.w(i(e),n,r,o&&o.reverse())},isGeneratorFunction:r,mark:t.m,awrap:function(t,e){return new A(t,e)},AsyncIterator:S,async:function(t,e,n,o,a){return(r(e)?g:j)(i(t),e,n,o,a)},keys:w,values:x}})()}function x(t){if(null!=t){var e=t["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],n=0;if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}throw new TypeError(y(t)+" is not iterable")}function w(t){var e=Object(t),n=[];for(var r in e)n.unshift(r);return function t(){for(;n.length;)if((r=n.pop())in e)return t.value=r,t.done=!1,t;return t.done=!0,t}}function j(t,e,n,r,o){var i=g(t,e,n,r,o);return i.next().then((function(t){return t.done?t.value:i.next()}))}function g(t,e,n,r,o){return new S(_().w(t,e,n,r),o||Promise)}function S(t,e){function n(r,o,i,a){try{var s=t[r](o),u=s.value;return u instanceof A?e.resolve(u.v).then((function(t){n("next",t,i,a)}),(function(t){n("throw",t,i,a)})):e.resolve(u).then((function(t){s.value=t,i(s)}),(function(t){return n("throw",t,i,a)}))}catch(t){a(t)}}var r;this.next||(N(S.prototype),N(S.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",(function(){return this}))),N(this,"_invoke",(function(t,o,i){function a(){return new e((function(e,r){n(t,i,e,r)}))}return r=r?r.then(a,a):a()}),!0)}function _(){var t,e,n="function"==typeof Symbol?Symbol:{},r=n.iterator||"@@iterator",o=n.toStringTag||"@@toStringTag";function i(n,r,o,i){var u=r&&r.prototype instanceof s?r:s,c=Object.create(u.prototype);return N(c,"_invoke",function(n,r,o){var i,s,u,c=0,l=o||[],f=!1,d={p:0,n:0,v:t,a:m,f:m.bind(t,4),d:function(e,n){return i=e,s=0,u=t,d.n=n,a}};function m(n,r){for(s=n,u=r,e=0;!f&&c&&!o&&e<l.length;e++){var o,i=l[e],m=d.p,p=i[2];n>3?(o=p===r)&&(u=i[(s=i[4])?5:(s=3,3)],i[4]=i[5]=t):i[0]<=m&&((o=n<2&&m<i[1])?(s=0,d.v=r,d.n=i[1]):m<p&&(o=n<3||i[0]>r||r>p)&&(i[4]=n,i[5]=r,d.n=p,s=0))}if(o||n>1)return a;throw f=!0,r}return function(o,l,p){if(c>1)throw TypeError("Generator is already running");for(f&&1===l&&m(l,p),s=l,u=p;(e=s<2?t:u)||!f;){i||(s?s<3?(s>1&&(d.n=-1),m(s,u)):d.n=u:d.v=u);try{if(c=2,i){if(s||(o="next"),e=i[o]){if(!(e=e.call(i,u)))throw TypeError("iterator result is not an object");if(!e.done)return e;u=e.value,s<2&&(s=0)}else 1===s&&(e=i.return)&&e.call(i),s<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),s=1);i=t}else if((e=(f=d.n<0)?u:n.call(r,d))!==a)break}catch(e){i=t,s=1,u=e}finally{c=1}}return{value:e,done:f}}}(n,o,i),!0),c}var a={};function s(){}function u(){}function c(){}e=Object.getPrototypeOf;var l=[][r]?e(e([][r]())):(N(e={},r,(function(){return this})),e),f=c.prototype=s.prototype=Object.create(l);function d(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,c):(t.__proto__=c,N(t,o,"GeneratorFunction")),t.prototype=Object.create(f),t}return u.prototype=c,N(f,"constructor",c),N(c,"constructor",u),u.displayName="GeneratorFunction",N(c,o,"GeneratorFunction"),N(f),N(f,o,"Generator"),N(f,r,(function(){return this})),N(f,"toString",(function(){return"[object Generator]"})),(_=function(){return{w:i,m:d}})()}function N(t,e,n,r){var o=Object.defineProperty;try{o({},"",{})}catch(t){o=0}N=function(t,e,n,r){if(e)o?o(t,e,{value:n,enumerable:!r,configurable:!r,writable:!r}):t[e]=n;else{var i=function(e,n){N(t,e,(function(t){return this._invoke(e,n,t)}))};i("next",0),i("throw",1),i("return",2)}},N(t,e,n,r)}function A(t,e){this.v=t,this.k=e}function k(t,e,n,r,o,i,a){try{var s=t[i](a),u=s.value}catch(t){return void n(t)}s.done?e(u):Promise.resolve(u).then(r,o)}function T(t){return function(t){if(Array.isArray(t))return C(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||O(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,i,a,s=[],u=!0,c=!1;try{if(i=(n=n.call(t)).next,0===e){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=i.call(n)).done)&&(s.push(r.value),s.length!==e);u=!0);}catch(t){c=!0,o=t}finally{try{if(!u&&null!=n.return&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw o}}return s}}(t,e)||O(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(t,e){if(t){if("string"==typeof t)return C(t,e);var n={}.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?C(t,e):void 0}}function C(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=Array(e);n<e;n++)r[n]=t[n];return r}function I(){var t,e,n=(0,i.zy)(),y=(0,i.Zp)(),x=M((0,o.useState)(!1),2),w=x[0],j=x[1],g=M((0,o.useState)(!1),2),S=g[0],_=g[1],N=M((0,o.useState)("Importing"),2),A=N[0],O=N[1],C=M((0,o.useState)(0),2),I=C[0],R=C[1],P=M((0,o.useState)([]),2),F=(P[0],P[1]),E=M((0,o.useState)([]),2),L=(E[0],E[1]),G=M((0,o.useState)([]),2),V=(G[0],G[1],M((0,o.useState)([]),2)),D=V[0],U=V[1],W=M((0,o.useState)(!1),2),Y=W[0],z=W[1],J=M((0,o.useState)(!1),2),Z=J[0],$=J[1],B=M((0,o.useState)(!1),2),Q=B[0],X=B[1],q=M((0,o.useState)([]),2),H=q[0],K=q[1],tt=M((0,o.useState)([]),2),et=tt[0],nt=tt[1],rt=M((0,o.useState)("pending"),2),ot=rt[0],it=rt[1],at=M((0,o.useState)(!0),2),st=at[0],ut=at[1],ct=M((0,o.useState)([]),2),lt=ct[0],ft=ct[1],dt=(0,o.useRef)(null),mt=(0,o.useRef)(null),pt=(0,o.useRef)(null),ht=M((0,o.useState)(null),2),vt=ht[0],yt=ht[1],bt=M((0,o.useState)(!1),2),xt=bt[0],wt=bt[1],jt=M((0,o.useState)(!1),2),gt=jt[0],St=jt[1],_t=M((0,o.useState)(!0),2),Nt=_t[0],At=_t[1];(0,c.c7)(dt,z),(0,c.c7)(mt,$),(0,c.c7)(pt,X);var kt=window.MRM_Vars.contacts_map_attrs,Tt=(0,o.useCallback)((function(t,e,n){var r=t,o=lt.findIndex((function(t){return t.source===n}));ft("no_import"!==r?-1!==o?function(t){return[].concat(T(t.slice(0,o)),[{source:n,target:r}],T(t.slice(o+1)))}:function(t){return[].concat(T(t),[{source:n,target:r}])}:function(t){return t.filter((function(t){return t.source!==n}))})}),[lt]),Mt=kt.map((function(t){return{title:t.name,id:t.slug}}));Mt.push({title:"Do not import this field",id:"no_import"});var Ot=n.state,Ct=null==Ot||null===(t=Ot.data)||void 0===t?void 0:t.headers,It=n.pathname.replace("/map","");if(!Ot)return(0,v.jsx)(i.C5,{to:It});(0,o.useEffect)((function(){var t;if((0,s.Mr)().then((function(t){F(t.data)})),(0,u.Q2)().then((function(t){L(t.data)})),"native-wp"===(null===(t=n.state)||void 0===t?void 0:t.type)){var e,r;U(null===(e=n.state)||void 0===e||null===(e=e.data)||void 0===e?void 0:e.roles),yt(null===(r=n.state)||void 0===r||null===(r=r.data)||void 0===r?void 0:r.total_batch);var o=setTimeout((function(){ut(!1)}),500);return function(){return clearTimeout(o)}}}),[]);var Rt=function(){var t,e=(t=b().mark((function t(){var e,n,r,o,i,a,s,u,c;return b().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:j(!0),_(!0),(n={map:lt}).roles=D,n.status=ot,n.lists=H,n.tags=et,n.created_by="".concat(window.MRM_Vars.current_userID),n.optin_confirmation=xt,n.skip_existing=gt,n.automation_control=Nt,n.offset=0,r=0,o=0,i=0,a=0,u=0;case 14:if(!(u<vt)){t.next=30;break}return t.next=18,(0,m.ZT)(n,"mrm/v1/contacts/import/wordpress");case 18:if(s=t.sent,"failed"!==(null===(c=s)||void 0===c?void 0:c.status)){t.next=21;break}return t.abrupt("break",30);case 21:R((u+1)/vt*100),n.offset=s.data.offset,r+=s.data.total,o+=s.data.imported,i+=s.data.skipped,a+=s.data.existing_contacts;case 27:u++,t.next=14;break;case 30:if("success"!==(null===(e=s)||void 0===e?void 0:e.status)){t.next=35;break}return O("Imported"),t.next=34,new Promise((function(t){return setTimeout(t,1e3)}));case 34:y("/contacts/import/confirmation",{state:{total:r,imported:o,skipped:i,existing_contacts:a,source:"wp"}});case 35:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(r,o){var i=t.apply(e,n);function a(t){k(i,r,o,a,s,"next",t)}function s(t){k(i,r,o,a,s,"throw",t)}a(void 0)}))});return function(){return e.apply(this,arguments)}}();return(0,v.jsx)(v.Fragment,{children:(0,v.jsx)(d.A,{showNotification:!1,setShowNotification:function(){},notificationType:null,setNotificationType:function(){},message:null,showVideo:!0,docLink:"https://getwpfunnels.com/docs/mail-mint-contacts/",videoLink:"https://www.youtube.com/embed/lWSavlC4dFc",children:(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)("h3",{children:(0,r.__)("WordPress Users As Contacts","mrm")}),(0,v.jsx)("span",{className:"csv-title",children:(0,r.__)("The following table is just a preview of how all of your WordPress users will be mapped into Mail Mint Contacts.")}),st?(0,v.jsx)(l.A,{type:"table"}):(0,v.jsxs)(v.Fragment,{children:[(0,v.jsxs)("form",{className:"select-field-form",action:"",children:[(0,v.jsx)("div",{className:"select-field-table",children:(0,v.jsxs)("table",{children:[(0,v.jsx)("thead",{children:(0,v.jsxs)("tr",{children:[(0,v.jsxs)("th",{children:[window.MRM_Vars.mint_trans.CustomerDataToImport,(0,v.jsxs)("span",{className:"mintmrm-tooltip",children:[(0,v.jsx)(p.A,{}),(0,v.jsx)("p",{children:window.MRM_Vars.mint_trans.importWordPressTooltip})]})]}),(0,v.jsxs)("th",{children:[window.MRM_Vars.mint_trans.MapTo,(0,v.jsxs)("span",{className:"mintmrm-tooltip",children:[(0,v.jsx)(p.A,{}),(0,v.jsx)("p",{children:window.MRM_Vars.mint_trans.MapToTooltipTitle})]})]})]})}),(0,v.jsxs)("tbody",{children:[Ct.map((function(t,e){if(t.match(new RegExp("mail|@","i")))return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:t}),(0,v.jsx)("td",{children:(0,v.jsx)("div",{className:"form-group map-dropdown",children:(0,v.jsx)(h.A,{emailField:!0,handleSelect:Tt,field_value:t,options:Mt})})})]},e)})),Ct.map((function(t,e){if(!t.match(new RegExp("mail|@","i")))return(0,v.jsxs)("tr",{children:[(0,v.jsx)("td",{children:t}),(0,v.jsx)("td",{children:(0,v.jsx)("div",{className:"form-group map-dropdown",children:(0,v.jsx)(h.A,{handleSelect:Tt,field_value:t,options:Mt})})})]},e)}))]})]})}),(0,v.jsx)("hr",{}),(0,v.jsx)(f.A,{isActiveStatus:Y,setIsActiveStatus:z,selectedStatus:ot,setSelectedStatus:it,isActiveTag:Q,setIsActiveTag:X,isActiveList:Z,setIsActiveList:$,selectedLists:H,setSelectedLists:K,selectedTags:et,setSelectedTags:nt,automationControl:Nt,setAutomationControl:At,updateOptin:xt,setUpdateOptin:wt,skipExisting:gt,setSkipExisting:St,statusMenuRef:dt,listMenuRef:mt,tagMenuRef:pt})]}),(0,v.jsxs)("div",{className:"import-button ".concat(S?"loader-section":""),children:[(0,v.jsxs)("div",{className:"progress-bar-wrapper",children:[(0,v.jsx)("span",{className:"progress-bar-title",children:A}),(0,v.jsx)("div",{className:"progress-bar",children:(0,v.jsx)("div",{className:"progress-percentage",style:{width:I.toPrecision(3)+"%"}})}),(0,v.jsxs)("span",{className:"percentage-rate",children:[I.toPrecision(3)," %"]})]}),(0,v.jsxs)("div",{className:"import-button-wrapper",children:[(0,v.jsx)(a.N_,{to:It,children:(0,v.jsx)("button",{className:"mintmrm-btn outline cancel-btn",children:(0,r.__)("Cancel","mrm")})}),0!=(null==Ot||null===(e=Ot.data)||void 0===e?void 0:e.total)&&(0,v.jsxs)("button",{className:"import-confirm-button mintmrm-btn",onClick:function(){return Rt()},disabled:!!w,children:[(0,r.__)("Import","mrm"),w&&(0,v.jsx)("span",{className:"mintmrm-loader",style:{display:"block"}})]})]})]})]})]})})})}}}]);
//# sourceMappingURL=wordpress-field-map.min.js.map?ver=1753180343066000